<html>
<head>
<title>MuadDib's UO Packet Reference
</title>
<meta name="keyword" content="POL, EScript, documentation, uo, packet" />
<meta name="Author" content="MuadDib" />
<meta name="Generator" content="POL Doc-o-matic" />
<style type="text/css"><!-- body,td,p {  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 8pt; font-weight: normal; color: #000000} --></style>
</head>
<body BGCOLOR="F0F0F0">
<center>Welcome to MuadDib's UO Packet Guide.<br><br>
Here you will find layouts on the Ultima Online client packets.</center><br>
<table width="100%" border="0" cellspacing="1" cellpadding="0"><tr><td>
<table width="100%" border="0" cellspacing="1" cellpadding="8"><tr><td>
<center><b><u>Packets Sent By Client</u></b><br>
<table border="0" align="center"><tr><td align="left" nowrap><li><a href="#0x00">0x00 - Create Character</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x01">0x01 - Disconnect Notification</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x02">0x02 - Move Request</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x03">0x03 - Talk Request</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x04">0x04 - Request God Mode (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x05">0x05 - Request Attack</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x06">0x06 - Double Click</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x07">0x07 - Pick Up Item</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x08">0x08 - Drop Item</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x09">0x09 - Single Click</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x0A">0x0A - Edit (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x12">0x12 - Request Skill etc use</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x13">0x13 - Drop->Wear Item</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x14">0x14 - Send Elevation (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x16">0x16 - Request Script Names</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x34">0x34 - Get Player Status</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x35">0x35 - Add Resource (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x37">0x37 - Move Item (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x38">0x38 - Drunken Coder</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x3B">0x3B - Buy Item(s)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x5D">0x5D - Login Character</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x69">0x69 - Change Text/Emote Colors</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x72">0x72 - Request War Mode</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x75">0x75 - Rename Character</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x7D">0x7D - Response To Dialog Box</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x80">0x80 - Login Request</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x83">0x83 - Delete Character</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x91">0x91 - Game Server Login</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x9B">0x9B - Request Help</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x9F">0x9F - Sell List Reply</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA0">0xA0 - Select Server</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA4">0xA4 - Client Spy</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA7">0xA7 - Request Tip/Notice Window</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xAC">0xAC - Gump Text Entry Dialog Reply</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xAD">0xAD - Unicode/Ascii speech request</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB1">0xB1 - Gump Menu Selection</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB3">0xB3 - Chat Text</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB5">0xB5 - Open Chat Window</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB6">0xB6 - Send Help/Tip Request</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD9">0xD9 - Spy On Client</a></td></tr>
</table></center><br>
<center><b><u>Packets Sent By Server</u></b><br>
<table border="0" align="center"><tr><td align="left" nowrap><li><a href="#0x0B">0x0B - Damage</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x11">0x11 - Status Bar Info</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x1A">0x1A - Object Info</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x1B">0x1B - Char Locale & Body</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x1C">0x1C - Send Speech</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x1D">0x1D - Delete Object</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x20">0x20 - Draw Game Player</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x21">0x21 - Char Move Rejection</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x23">0x23 - Dragging Of Item</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x24">0x24 - Draw Container</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x25">0x25 - Add Item To Container</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x26">0x26 - Kick Player</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x27">0x27 - Reject Move Item Request</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x28">0x28 - Clear Square (God Client?)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x29">0x29 - Paperdoll Clothing Add Ack</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x2B">0x2B - God Mode (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x2D">0x2D - Mob Attributes</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x2E">0x2E - Worn Item</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x2F">0x2F - Fight Occuring</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x30">0x30 - Attack Ok</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x32">0x32 - Unknown</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x33">0x33 - Pause Client</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x3C">0x3C - Items In Container</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x3E">0x3E - Versions (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x3F">0x3F - Update Statics (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x4E">0x4E - Personal Light Level</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x4F">0x4F - Overall Light Level</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x53">0x53 - Idle Warning</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x54">0x54 - Play Sound Effect</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x55">0x55 - Login Complete</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x5B">0x5B - Time</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x65">0x65 - Set Weather</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x6D">0x6D - Play Midi Music</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x6E">0x6E - Character Animation</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x70">0x70 - Graphical Effect</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x74">0x74 - Open Buy Window</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x76">0x76 - New Subserver</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x77">0x77 - Update Player</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x78">0x78 - Draw Object</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x7C">0x7C - Open Dialog Box</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x82">0x82 - Login Denied</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x86">0x86 - Resend Characters After Delete</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x88">0x88 - Open Paperdoll</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x89">0x89 - Corpse Clothing</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x8C">0x8C - Connect To Game Server</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x90">0x90 - Map Message</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x97">0x97 - Move Player</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x9E">0x9E - Sell List</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA1">0xA1 - Update Current Health</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA2">0xA2 - Update Current Mana</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA3">0xA3 - Update Current Stamina</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA5">0xA5 - Open Web Browser</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA6">0xA6 - Tip/Notice Window</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA8">0xA8 - Game Server List</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xA9">0xA9 - Characters / Starting Locations</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xAA">0xAA - Allow/Refuse Attack</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xAB">0xAB - Gump Text Entry Dialog</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xAE">0xAE - Unicode Speech message</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xAF">0xAF - Display Death Action</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB0">0xB0 - Send Gump Menu Dialog</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB2">0xB2 - Chat Message</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB7">0xB7 - Help/Tip Data</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB9">0xB9 - Enable locked client features</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xBA">0xBA - Quest Arrow</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xBC">0xBC - Seasonal Information</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC0">0xC0 - Graphical Effect</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC1">0xC1 - Cliloc Message</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC4">0xC4 - Semivisible (Smurf it!)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC6">0xC6 - Invalid Map Enable</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC7">0xC7 - 3D Particle Effect</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xCB">0xCB - Global Que Count</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xCC">0xCC - Cliloc Message Affix</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD2">0xD2 - Extended 0x20</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD3">0xD3 - Extended 0x78</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD6">0xD6 - Mega Cliloc</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD8">0xD8 - Send Custom House</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xDB">0xDB - Character Transfer Log</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xDC">0xDC - SE Introduced Revision</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xDD">0xDD - Compressed Gump</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xDF">0xDF - Buff/Debuff System</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xF0">0xF0 - Krrios client special</a></td></tr>
</table></center><br>
<center><b><u>Packets Sent By Both (BiDirectional)</u></b><br>
<table border="0" align="center"><tr><td align="left" nowrap><li><a href="#0x0C">0x0C - Edit Tile Data (God Client)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x15">0x15 - Follow</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x22">0x22 - Character Move ACK/ Resync Request</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x2C">0x2C - Resurrection Menu</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x39">0x39 - Remove (Unknown)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x3A">0x3A - Send Skills</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x56">0x56 - Map Packet (cartography/treasure)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x66">0x66 - Books (Pages, Old Packet)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x6C">0x6C - Target Cursor Commands</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x6F">0x6F - Secure Trading</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x71">0x71 - Bulletin Board Messages</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x93">0x93 - Books (Title Page, Old Packet)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x95">0x95 - Dye Window</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x98">0x98 - All Names (3D Client Only)</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0x99">0x99 - Give Boat/House Placement View</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xB8">0xB8 - Request/Char Profile</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xBB">0xBB - Ultima Messenger</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xBD">0xBD - Client Version</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xBE">0xBE - Assist Version</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xBF">0xBF - General Information Packet</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC2">0xC2 - Unicode TextEntry</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC8">0xC8 - Client View Range</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xC9">0xC9 - Get Area Server Ping</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xCA">0xCA - Get User Server Ping</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD0">0xD0 - Configuration File</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD1">0xD1 - Logout Status</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD4">0xD4 - *New* Book Header</a></td></tr>
<tr><td align="left" nowrap><li><a href="#0xD7">0xD7 - Generic AOS Commands</a></td></tr>
</table></center></td></tr></table></td></tr></table>
<br></p>
<center>===================================================================================</center><br><br>
<table width="100%" border="0" cellspacing="1" cellpadding="0"><tr><td>
<table width="100%" border="0" cellspacing="1" cellpadding="8"><tr><td>
<center><b><u>Packet Information Section</u></b><br>
<table border="1" align="center"><tr><td align="left"><p><b>Packet ID:</b> <a name="0x00">0x00</a><br>
<b>Packet Name:</b> Create Character<br>
<b>Packet Size:</b> 104 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1]   cmd
<br />
BYTE[4]   pattern1 (0xedededed)
<br />
BYTE[4]   pattern2 (0xffffffff)
<br />
BYTE[1]   pattern3 (0x00)
<br />
BYTE[30] char name
<br />
BYTE[30] char password
<br />
BYTE[1]    sex (0=male, 1=female)
<br />
BYTE[1]    str
<br />
BYTE[1]    dex
<br />
BYTE[1]    int
<br />
BYTE[1]    skill1
<br />
BYTE[1]    skill1value
<br />
BYTE[1]    skill2
<br />
BYTE[1]    skill2value
<br />
BYTE[1]    skill3
<br />
BYTE[1]    skill3value
<br />
BYTE[2]    skinColor
<br />
BYTE[2]    hairStyle
<br />
BYTE[2]    hairColor
<br />
BYTE[2]    facial hair
<br />
BYTE[2]    facial hair color
<br />
BYTE[2]    location # from starting list
<br />
BYTE[2]    unknown1
<br />
BYTE[2]    slot
<br />
BYTE[4]    clientIP
<br />
BYTE[2]    shirt color
<br />
BYTE[2]    pants color<br></p>
<p><b><u>Notes</b></u><br>Note: pattern3 is set to 0xFF to early signal a Krrios' client user, where it expects a 0xF0 | 0x00 before login confirm
<br />

<br />
Str, dex and int should always sum to 65.
<br />
Str, dex and int should always be between 10 and 45, inclusive.
<br />
Skill1, skill2, and skill3 should never be the same value.
<br />
Skill1, skill2, and skill3 should always be between 0 and 45, inclusive.
<br />
Skill1value, skill2value, and skill3value should always sum to 100.
<br />
Skill1value, skill2value, and skill3value should always be between 0 and 50, inclusive.
<br />
SkinColor should always be between 0x3EA and 0x422, exclusive.
<br />
HairColor and facialHairColor should always be between 0x44E and 0x4AD, exclusive.
<br />
HairStyle should be between 0x203B and 0x204A, exclusive, and it should also exclude 0x203D to 0x2044, exclusive.
<br />
FacialHairStyle should be between 0x203E and 0x204D
<br />
Shirt color and Pants color need bounds checking too.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x01">0x01</a><br>
<b>Packet Name:</b> Disconnect Notification<br>
<b>Packet Size:</b> 5 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer Active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
 BYTE[4] pattern (0xFFFFFFFF)
<br />

<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x02">0x02</a><br>
<b>Packet Name:</b> Move Request<br>
<b>Packet Size:</b> 7 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] direction
<br />
BYTE[1] sequence number
<br />
BYTE[4] fastwalk prevention key
<br />

<br />
<br></p>
<p><b><u>Notes</b></u><br>Sequence number starts at 0, after a reset.  However, if 255 is reached, the next seq # is 1, not 0.
<br />

<br />
Fastwalk prevention notes: each 0x02 pops the top element from fastwalk key stack. (0xbf sub1 init. fastwalk stack, 0xbf sub2 pushes an element to stack)
<br />
If stack is empty key value is 0. (-> never set keys to 0 in 0xbf sub 1/2)
<br />
Because client sometimes sends bursts of 0x02’s DON’T check for a certain top stack value.
<br />
The only safe way to detect fastwalk: push a key after EACH x021, 0x22, (=send 0xbf sub 2) check in 0x02 for stack emptyness.
<br />

<br />
If empty -> fastwalk alert.
<br />
Note that actual key values are irrelevant. (just don’t use 0)
<br />
Of course without perfect 0x02/0x21/0x22 synch (serverside) it’s useless to use fastwalk detection.
<br />
Last but not least: fastwalk detection adds 9 bytes per step and player !</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x03">0x03</a><br>
<b>Packet Name:</b> Talk Request<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[1] SpeechType
<br />
BYTE[2] Color
<br />
BYTE[2] SpeechFont
<br />
BYTE[?] msg - Null Terminated (blockSize - 8)<br></p>
<p><b><u>Notes</b></u><br>The various types of text is as follows:
<br />
0x00 - Normal
<br />
0x01 - Broadcast/System
<br />
0x02 - Emote
<br />
0x06 - System/Lower Corner
<br />
0x07 - Message/Corner With Name
<br />
0x08 - Whisper
<br />
0x09 - Yell
<br />
0x0A - Spell
<br />
0x0D - Guild Chat
<br />
0x0E - Alliance Chat
<br />
0x0F - Command Prompts</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x04">0x04</a><br>
<b>Packet Name:</b> Request God Mode (God Client)<br>
<b>Packet Size:</b> 2 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>This is sent by the god client after it logs in until it receives a God mode packet. No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1]  cmd
<br />
BYTE[1]  mode (0=off, 1=on)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x05">0x05</a><br>
<b>Packet Name:</b> Request Attack<br>
<b>Packet Size:</b> 5 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] ID to be attacked <br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x06">0x06</a><br>
<b>Packet Name:</b> Double Click<br>
<b>Packet Size:</b> 5 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] ID of double clicked object <br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x07">0x07</a><br>
<b>Packet Name:</b> Pick Up Item<br>
<b>Packet Size:</b> 7 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] item id
<br />
<!--bytecommand-->
<br />
BYTE[2] # of items in stack
<br />

<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x08">0x08</a><br>
<b>Packet Name:</b> Drop Item<br>
<b>Packet Size:</b> 14 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib-</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] item id
<br />
<!--bytecommand-->
<br />
BYTE[2] X Location
<br />
<!--bytecommand-->
<br />
 BYTE[2] Y Location
<br />
<!--bytecommand-->
<br />
BYTE[1] Z Location
<br />
<!--bytecommand-->
<br />
BYTE[4] Move Into Container ID (FF FF FF FF if normal world) <br></p>
<p><b><u>Notes</b></u><br>3D clients sometimes sends 2 of them (bursts) for ONE drop action. The last one having –1’s in X/Y locs.
<br />

<br />
Be very careful how to handle this odd “bursts” server side, neither always process, nor always skipping is correct.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x09">0x09</a><br>
<b>Packet Name:</b> Single Click<br>
<b>Packet Size:</b> 5 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] ID of single clicked object <br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x0A">0x0A</a><br>
<b>Packet Name:</b> Edit (God Client)<br>
<b>Packet Size:</b> 11<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[1] Subcommand
<br />
BYTE[2] The new object's x-axis position. If Command is HackMove Request, this will be a boolean value (still 16-bit) representing the requested mode.
<br />
BYTE[2] The new object's y-axis position.
<br />
BYTE[2] The new object's id. If Command is Add New NPC, this is the template number.
<br />
BYTE[1] The new object's z-axis position.
<br />
BYTE[2] Unknown.<br></p>
<p><b><u>Sub Commands</b></u><br>
Subcommand 4: Add New Dynamic Item.
<br />
Subcommand 6: Hackmove Request.
<br />
Subcommand 7: Add New NPC.
<br />
Subcommand A: Add New Static Item.<br>
</p><br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x0B">0x0B</a><br>
<b>Packet Name:</b> Damage<br>
<b>Packet Size:</b> 0x07<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] CMD<br />BYTE[4] Serial to display above<br />BYTE[2] Damage dealt. 0xFFFF is max damage that can be displayed.<br /><br></p>
<p><b><u>Notes</b></u><br>New damage dealt packet to display damage above a mob's head. This packet was introduced somewhere around 4.0.7a</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x0C">0x0C</a><br>
<b>Packet Name:</b> Edit Tile Data (God Client)<br>
<b>Packet Size:</b> variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[2] Length
<br />
BYTE[2] Tile Number to edit. If number is 0x8000+, then it is a map tile.
<br />
BYTE[4] Tile data Flags for the item.
<br />
BYTE[1] Weight of item.
<br />
BYTE[1] Quality of item.
<br />
BYTE[2] Unknown.
<br />
BYTE[1] Unknown.
<br />
BYTE[1] Quantity.
<br />
BYTE[2] Frame number of the animation.
<br />
BYTE[1] Unknown.
<br />
BYTE[1] Hue.
<br />
BYTE[1] Unknown.
<br />
BYTE[1] Value of item.
<br />
BYTE[1] Height.
<br />
BYTE[20] Item's Name.<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x11">0x11</a><br>
<b>Packet Name:</b> Status Bar Info<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd <br />BYTE[2] packet length <br />BYTE[4] player id <br />BYTE[30] playerName <br />BYTE[2] currentHitpoints <br />BYTE[2] maxHitpoints <br />BYTE[1] name change flag (0x1 = allowed, 0 = not allowed)<br />BYTE[1] flag (0x00 – no more data following (end of packet here).  0x01 – more data after this flag following,  0x03: like 1, extended info, 0x04: even more extended info (client 4.0 and above), 0x05: Unknown, UOML introduced. Maybe to do with introduced at client 5.0?<br />BYTE[1] sex (0=male, 1=female) <br />BYTE[2] str <br />BYTE[2] dex <br />BYTE[2] int <br />BYTE[2] currentStamina <br />BYTE[2] maxStamina <br />BYTE[2] currentMana <br />BYTE[2] maxMana <br />BYTE[4] gold <br />BYTE[2] armor class <br />BYTE[2] weight<br />BYTE[1] Unknown * UOML Introduced?<br />If (flag == 3 or flag==4 ) <br />· BYTE[2]  statcap<br />· BYTE[1]  pets current<br />· BYTE[1] pets max<br />If (flag == 4) <br />· BYTE[2]  fireresist<br />· BYTE[2]  coldresist<br />· BYTE [2] poisonresist<br />· BYTE[2]  energyresist<br />· BYTE[2]  luck<br />· BYTE[2] damage minimum<br />· BYTE[2] damage maximum<br />· BYTE[4] titching points<br></p>
<p><b><u>Notes</b></u><br>For characters other than the player, currentHitpoints and maxHitpoints are not the actual values. MaxHitpoints is a fixed value, and currentHitpoints works like a percentage. </p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x12">0x12</a><br>
<b>Packet Name:</b> Request Skill etc use<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
BYTE[2] blockSize
<br />
BYTE[1] type
<br />
Types Listed:
<br />
· 0x24 ($) - skill
<br />
· · BYTE[blockSize-4] skill (null terminated strings)
<br />
· · ·  "1 0" - anatomy
<br />
· · ·  "2 0" - animal lore
<br />
· · ·  "3 0" - item identification
<br />
· · ·  "4 0" - arms lore
<br />
· · ·  "6 0" - begging
<br />
· · ·   "9 0" - peacemaking
<br />
· · ·   "12 0" - cartography
<br />
· · ·  "14 0" - detect hidden
<br />
· · ·  "15 0" - entice
<br />
· · ·  "16 0" - evaluate intelligence
<br />
· · ·   "19 0" - forensic evaluation
<br />
· · ·   "21 0" - hiding
<br />
· · ·  "22 0" - provocation
<br />
· · ·  "23 0" - inscription
<br />
· · ·  "30 0" - poisoning
<br />
· · ·  "32 0" - spirit speak
<br />
· · ·  "33 0" - stealing
<br />
· · ·  "35 0" - taming
<br />
· · ·  "36 0" - taste identification
<br />
· · ·  "38 0" - tracking
<br />
· 0x56 (V) - Macro'd Spell
<br />
· · BYTE[blockSize-4] Spell (null terminated strings)
<br />
· · ·  "2" - Create Food
<br />
· · ·  "3" - Feeblemind
<br />
· · ·  "4" - Heal
<br />
· · ·  "5" - Magic Arrow
<br />
· · ·  "6" - Night Sight
<br />
· · ·  "7" - Reactive Armor
<br />
· · ·  "8" - Weaken
<br />
· · ·  "9" - Agility
<br />
· · ·  "10" - Cunning
<br />
· · ·  "11" - Cure
<br />
· · ·  "12" - Harm
<br />
· · ·  "13" - Magic Trap
<br />
· · ·  "14" - Magic Untrap
<br />
· · ·  "15" - Protection
<br />
· · ·  "16" - Strength
<br />
· · ·  "17" - Bless
<br />
· · ·  "18" - Fireball
<br />
· · ·  "19" - Magic Lock
<br />
· · ·  "20" - Poison
<br />
· · ·  "21" - Telekenisis
<br />
· · ·  "22" - Teleport
<br />
· · ·  "23" - Unlock
<br />
· · ·  "24" - Wall of Stone
<br />
· · ·  "25" - Arch Cure
<br />
· · ·  "26" - Arch Protection
<br />
· · ·  "27" - Curse
<br />
· · ·  "28" - Fire Field
<br />
· · ·  "29" - Greater Heal
<br />
· · ·  "30" - Lightning
<br />
· · ·  "31" - Mana Drain
<br />
· · ·  "32" - Recall
<br />
· · ·  "33" - Blade Spirit
<br />
· · ·  "34" - Dispel Field
<br />
· · ·  "35" - Incognito
<br />
· · ·  "36" - Reflection
<br />
· · ·  "37" - Mind Blast
<br />
· · ·  "38" - Paralyze
<br />
· · ·  "39" - Poison Field
<br />
· · ·  "40" - Summon Creature
<br />
· · ·  "41" - Dispel
<br />
· · ·  "42" - Energy Bolt
<br />
· · ·  "43" - Explosion
<br />
· · ·  "44" - Invisibility
<br />
· · ·  "45" - Mark
<br />
· · ·  "46" - Mass Curse
<br />
· · ·  "47" - Paralyze Field
<br />
· · ·  "48" - Reveal
<br />
· · ·  "49" - Chain Lightning
<br />
· · ·  "50" - Energy Field
<br />
· · ·  "51" - Flame Strike
<br />
· · ·  "52" - Gate
<br />
· · ·  "53" - Mana Vampire
<br />
· · ·  "54" - Mass Dispel
<br />
· · ·  "55" - Meteor Shower
<br />
· · ·  "56" - Polymorph
<br />
· · ·  "57" - Earthquake
<br />
· · ·  "58" - Energy Vortex
<br />
· · ·  "59" - Ressurection
<br />
· · ·  "60" - Summon Air Elemental
<br />
· · ·  "61" - Summon Daemon
<br />
· · ·  "62" - Summon Earth Elemental
<br />
· · ·  "63" - Summon Fire Elemental
<br />
· · ·  "64" - Summon Water Elemental
<br />
· 0x58 (X) - Open Door
<br />
· · BYTE[1] null termination (0x00)
<br />
·  0xc7 - action
<br />
· · BYTE[blockSize-4] Action (null terminated strings)
<br />
· · · "bow"
<br />
· · · "salute"<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x13">0x13</a><br>
<b>Packet Name:</b> Drop->Wear Item<br>
<b>Packet Size:</b> 10 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
 BYTE[4] itemid
<br />
<!--bytecommand-->
<br />
BYTE layer (layer of player)
<br />
<!--bytecommand-->
<br />
BYTE[4] playerID <br></p>
<p><b><u>Notes</b></u><br>1.) The Layer should not be trusted.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x14">0x14</a><br>
<b>Packet Name:</b> Send Elevation (God Client)<br>
<b>Packet Size:</b> 6<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[2] Map X Coord
<br />
BYTE[2] Map Y Coord
<br />
BYTE[1] Z Amount to alter the map tile's elevation by<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x15">0x15</a><br>
<b>Packet Name:</b> Follow<br>
<b>Packet Size:</b> 9<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[4] Serial of what is being followed.
<br />
BYTE[4] Serial of who is doing the following.<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x16">0x16</a><br>
<b>Packet Name:</b> Request Script Names<br>
<b>Packet Size:</b> 1<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x1A">0x1A</a><br>
<b>Packet Name:</b> Object Info<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] itemID
<br />
BYTE[2] model #
<br />
if (itemID & 0x80000000)
<br />
· BYTE[2] item count (or model # for corpses)
<br />
if (model & 0x8000)
<br />
· BYTE Incr Counter (increment model by this #)
<br />
BYTE[2] xLoc (only use lowest significant 15 bits)
<br />
BYTE[2] yLoc
<br />
if (xLoc & 0x8000)
<br />
· BYTE direction
<br />
BYTE zLoc
<br />
if (yLoc & 0x8000)
<br />
· BYTE[2] dye
<br />
if (yLoc & 0x4000)
<br />
· BYTE flag byte (See top)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x1B">0x1B</a><br>
<b>Packet Name:</b> Char Locale & Body<br>
<b>Packet Size:</b> 37 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] player id
<br />
<!--bytecommand-->
<br />
BYTE[4] unknown1 // always 0
<br />
<!--bytecommand-->
<br />
BYTE[2] bodyType
<br />
<!--bytecommand-->
<br />
BYTE[2] xLoc
<br />
<!--bytecommand-->
<br />
BYTE[2] yLoc
<br />
<!--bytecommand-->
<br />
BYTE[2] zLoc
<br />
<!--bytecommand-->
<br />
BYTE[1] direction
<br />
<!--bytecommand-->
<br />
BYTE[1] unknown2
<br />
<!--bytecommand-->
<br />
BYTE[4] unknown3
<br />
<!--bytecommand-->
<br />
BYTE[2] server boundry X
<br />
<!--bytecommand-->
<br />
BYTE[2] server boundry Y
<br />
<!--bytecommand-->
<br />
BYTE[2] server boundry Width
<br />
<!--bytecommand-->
<br />
BYTE[2] server boundry Height
<br />
<!--bytecommand-->
<br />
BYTE[6] // completely ignored by standard client<br></p>
<p><b><u>Notes</b></u><br>Also known as "Login Confimation". This packet must be sent by the server once during login in order to confirm the login happened fully.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x1C">0x1C</a><br>
<b>Packet Name:</b> Send Speech<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] Packet len
<br />
BYTE[4] itemID (FF FF FF FF = system)
<br />
BYTE[2] model (item # - FF FF = system)
<br />
BYTE[1] Type of Text
<br />
BYTE[2] Text Color
<br />
BYTE[2] Font
<br />
BYTE[30] Name
<br />
BYTE[?] Null-Terminated Msg (? = Packet length - 44)
<br />
<br></p>
<p><b><u>Notes</b></u><br>This is the packet POL uses to send names when you single click on items or NPCs. This is a much more optimized method (packet size) than OSI's method by using 0xC1
<br />

<br />
The various types of text is as follows:
<br />
0x00 - Normal
<br />
0x01 - Broadcast/System
<br />
0x02 - Emote
<br />
0x06 - System/Lower Corner
<br />
0x07 - Message/Corner With Name
<br />
0x08 - Whisper
<br />
0x09 - Yell
<br />
0x0A - Spell
<br />
0x0D - Guild Chat
<br />
0x0E - Alliance Chat
<br />
0x0F - Command Prompts</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x1D">0x1D</a><br>
<b>Packet Name:</b> Delete Object<br>
<b>Packet Size:</b> 5 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] item/char id
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x20">0x20</a><br>
<b>Packet Name:</b> Draw Game Player<br>
<b>Packet Size:</b> 19 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
BYTE[4] creature id
<br />
BYTE[2] bodyType
<br />
BYTE[1] unknown1 (0)
<br />
BYTE[2] skin color / hue
<br />
BYTE[1] flag byte
<br />
BYTE[2] xLoc
<br />
BYTE[2] yLoc
<br />
BYTE[2] unknown2 (0)
<br />
BYTE[1] direction
<br />
BYTE[1] zLoc<br></p>
<p><b><u>Notes</b></u><br>Only used with the character being played by the client.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x21">0x21</a><br>
<b>Packet Name:</b> Char Move Rejection<br>
<b>Packet Size:</b> 8 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[1] sequence #
<br />
<!--bytecommand-->
<br />
BYTE[2] xLoc
<br />
<!--bytecommand-->
<br />
BYTE[2] yLoc
<br />
<!--bytecommand-->
<br />
BYTE[1] direction
<br />
<!--bytecommand-->
<br />
BYTE[1] zLoc<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x22">0x22</a><br>
<b>Packet Name:</b> Character Move ACK/ Resync Request<br>
<b>Packet Size:</b> 3 bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[1] sequence (matches sent sequence)
<br />
<!--bytecommand-->
<br />
BYTE[1] notoriety<br></p>
<p><b><u>Notes</b></u><br><u>Notoriety</u>
<br />

<br />
0 = invalid/across server line
<br />
1 = innocent (blue)
<br />
2 = guilded/ally (green)
<br />
3 = attackable but not criminal (gray)
<br />
4 = criminal (gray)
<br />
5 = enemy (orange)
<br />
6 = murderer (red)
<br />
7 = unknown use (translucent (like 0x4000 hue))</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x23">0x23</a><br>
<b>Packet Name:</b> Dragging Of Item<br>
<b>Packet Size:</b> 26 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>This is sent by the server to display an item being dragged from one place to another.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[2] model #
<br />
BYTE[3] unknown1
<br />
BYTE[2] stack count
<br />
BYTE[4] Source ID
<br />
BYTE[2] Source xLoc
<br />
BYTE[2] Source yLoc
<br />
BYTE[1] Source zLoc
<br />
BYTE[4] Target id
<br />
BYTE[2] Target xLoc
<br />
BYTE[2] Target yLoc
<br />
BYTE[1] Target zLoc<br></p>
<p><b><u>Notes</b></u><br>This does not actually move the item, it just displays an animation.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x24">0x24</a><br>
<b>Packet Name:</b> Draw Container<br>
<b>Packet Size:</b> 7 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] item id
<br />
<!--bytecommand-->
<br />
BYTE[2] model-Gump (0x003c is  backpack)
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x25">0x25</a><br>
<b>Packet Name:</b> Add Item To Container<br>
<b>Packet Size:</b> 20 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] item id to add
<br />
<!--bytecommand-->
<br />
BYTE[2] model
<br />
<!--bytecommand-->
<br />
BYTE[1] unknown (0)
<br />
<!--bytecommand-->
<br />
BYTE[2] # of items
<br />
<!--bytecommand-->
<br />
BYTE[2] xLoc in container
<br />
<!--bytecommand-->
<br />
BYTE[2] yLoc in container
<br />
<!--bytecommand-->
<br />
BYTE[4] itemID of container
<br />
<!--bytecommand-->
<br />
BYTE[2] color
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x26">0x26</a><br>
<b>Packet Name:</b> Kick Player<br>
<b>Packet Size:</b> 5 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] ID of GM who issued kick?<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x27">0x27</a><br>
<b>Packet Name:</b> Reject Move Item Request<br>
<b>Packet Size:</b> 2 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE unknown1 (0x00)
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x28">0x28</a><br>
<b>Packet Name:</b> Clear Square (God Client?)<br>
<b>Packet Size:</b> 5 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] xLoc
<br />
BYTE[2] yLoc
<br />

<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x29">0x29</a><br>
<b>Packet Name:</b> Paperdoll Clothing Add Ack<br>
<b>Packet Size:</b> 1 byte<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x2B">0x2B</a><br>
<b>Packet Name:</b> God Mode (God Client)<br>
<b>Packet Size:</b> 2<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[1] 0/1 For Disable/Enable God Mode in client.<br></p>
<p><b><u>Notes</b></u><br>Send this packet after receiving a Request God Mode packet.
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x2C">0x2C</a><br>
<b>Packet Name:</b> Resurrection Menu<br>
<b>Packet Size:</b> 2 bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Sub Commands</b></u><br>
BYTE cmd
<br />
<!--subcommand-->
<br />
BYTE action (2=ghost, 1=resurrect, 0=from server)<br>
</p><p><b><u>Notes</b></u><br>The only use on OSI for this packet is now sending "2C02" for the You Are Dead screen upon character death.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x2D">0x2D</a><br>
<b>Packet Name:</b> Mob Attributes<br>
<b>Packet Size:</b> 17 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>No longer active.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] serial
<br />
BYTE[2] hitsMax
<br />
BYTE[2] hitsCurrent
<br />
BYTE[2] manaMax
<br />
BYTE[2] manaCurrent
<br />
BYTE[2] stamMax
<br />
BYTE[2] stamCurrent<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x2E">0x2E</a><br>
<b>Packet Name:</b> Worn Item<br>
<b>Packet Size:</b> 15 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] itemid (always starts 0x40 in my data)
<br />
<!--bytecommand-->
<br />
BYTE[2] model (item hex #)
<br />
<!--bytecommand-->
<br />
BYTE[1] (0x00)
<br />
<!--bytecommand-->
<br />
BYTE[1] layer
<br />
<!--bytecommand-->
<br />
BYTE[4] playerID
<br />
<!--bytecommand-->
<br />
BYTE[2] color/hue<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x2F">0x2F</a><br>
<b>Packet Name:</b> Fight Occuring<br>
<b>Packet Size:</b> 10 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE unknown1 (0)
<br />
<!--bytecommand-->
<br />
BYTE[4] ID of attacker
<br />
<!--bytecommand-->
<br />
BYTE[4] ID of attacked<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x30">0x30</a><br>
<b>Packet Name:</b> Attack Ok<br>
<b>Packet Size:</b> 5<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[4] Serial being attacked<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x32">0x32</a><br>
<b>Packet Name:</b> Unknown<br>
<b>Packet Size:</b> 2 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>IN OLD GOLD CLIENTS: This packet enables or disables "hack moving" for the god client.
<br />
If enabled, the god client will ignore impassable static/map tiles.
<br />

<br />
This should be sent after receiving a hack move request in the Edit packet.
<br />

<br />
REINTRODUCED IN AOS NORMAL CLIENT:
<br />
Not Yet Implemented on OSI servers but already in use?</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] 0x0<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x33">0x33</a><br>
<b>Packet Name:</b> Pause Client<br>
<b>Packet Size:</b> 2 bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd<br /><!--bytecommand-->BYTE[1] pause/resume (1=pause, 0=resume) <br></p>
<p><b><u>Notes</b></u><br>Unpause does not seem to work.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x34">0x34</a><br>
<b>Packet Name:</b> Get Player Status<br>
<b>Packet Size:</b> 10 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
<!--bytecommand-->
<br />
BYTE[4] pattern (0xedededed)
<br />
<!--bytecommand-->
<br />
BYTE[1] getType
<br />
<!--bytecommand-->
<br />
· 0x04 - Basic Stats (Packet 0x11 Return)
<br />
<!--bytecommand-->
<br />
· 0x05 = Skills (Packet 0x3A Return)
<br />
<!--bytecommand-->
<br />
BYTE[4] playerID<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x35">0x35</a><br>
<b>Packet Name:</b> Add Resource (God Client)<br>
<b>Packet Size:</b> 653<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[1] 0 (Unknown)
<br />
BYTE[1] 1 (Unknown)
<br />
BYTE[2] Tile Type to attach new resource too. If 0x8000+ is for map tiles.
<br />
BYTE[127] Internal Resource Name.
<br />
BYTE[1] 00 Null Terminator.
<br />
BYTE[127] Food Resource Name.
<br />
BYTE[1] 00 Null Terminator.
<br />
BYTE[127] Shelter Resource Name.
<br />
BYTE[1] 00 Null Terminator.
<br />
BYTE[127] Desire Resource Name.
<br />
BYTE[1] 00 Null Terminator.
<br />
BYTE[127] Production Resource Name.
<br />
BYTE[1] 00 Null Terminator.
<br />
BYTE[4] If set to one, then make a consumer if excess in world.
<br />
BYTE[4] If set to one, then make a producer if excess in bank.<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x37">0x37</a><br>
<b>Packet Name:</b> Move Item (God Client)<br>
<b>Packet Size:</b> 8<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[4] Serial to move.
<br />
BYTE[1] Z To alter by ?
<br />
BYTE[1] Y to alter by ?
<br />
BYTE[1] X to alter by ?
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x38">0x38</a><br>
<b>Packet Name:</b> Drunken Coder<br>
<b>Packet Size:</b> 7 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] x
<br />
BYTE[2] y
<br />
BYTE[2] z
<br />

<br />
<br></p>
<p><b><u>Notes</b></u><br>Only works for player played by client.
<br />
x,y,z have to be in “0xc8 range” from player’s current location. Packet has to be send 19 times(!!!) or more in a row, otherwise it doesn’t do anything.
<br />

<br />
if all this satisfied it does a pathfind like action.
<br />

<br />
location of destination is displayed above players head (can’t be disabled).
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x39">0x39</a><br>
<b>Packet Name:</b> Remove (Unknown)<br>
<b>Packet Size:</b> 9<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] player serial
<br />
BYTE[4] target's serial<br></p>
<p><b><u>Notes</b></u><br>Outdated packet, no longer seen to be in use on OSI recently.
<br />

<br />
If player serial is zeroed, then it removes the target serial from a group?
<br />

<br />
If player serial and target serial are the same, it reports removed from group to the client.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x3A">0x3A</a><br>
<b>Packet Name:</b> Send Skills<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
Server Version:
<br />
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[1] Type (0x00= full list, 0xFF = single skill update, 0x02 full list with skillcap, 0xDF single skill update with cap) Repeat next until done - 46 skills
<br />
BYTE[2] id # of skill (0x01 - 0x2e)
<br />
BYTE[2] skill Value * 10
<br />
BYTE[2] Unmodified Value * 10
<br />
BYTE skillLock (0=up, 1=down, 2=locked)
<br />
If (Type==2 || Type==0xDF)
<br />
·        BYTE[2] SkillCap
<br />
BYTE[2] null (00 00)  (ONLY IF TYPE == 0x00)
<br />

<br />
Client Version (sets skill lock states):
<br />
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[2] id# of skill
<br />
BYTE skillLock (0=up, 1=down, 2=locked) <br></p>
<p><b><u>Notes</b></u><br>Server can also send just one skill, to update that skill only.
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x3B">0x3B</a><br>
<b>Packet Name:</b> Buy Item(s)<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] vendorID
<br />
BYTE[1] flag
<br />
·        0x00 - no items following
<br />
·        0x02 - items following
<br />
For each item
<br />
·        BYTE[1] (0x1A)
<br />
·        BYTE[4] itemID (from 3C packet)
<br />
·        BYTE[2] # bought <br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x3C">0x3C</a><br>
<b>Packet Name:</b> Items In Container<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[2] # of Item segments
<br />
Item Segments:
<br />
·        BYTE[4] itemID
<br />
·        BYTE[2] model
<br />
·        BYTE unknown1 (0x00)
<br />
·        BYTE[2] # of items in stack
<br />
·        BYTE[2] xLoc
<br />
·        BYTE[2] yLoc
<br />
·        BYTE[4] Container ItemID
<br />
·        BYTE[2] color<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x3E">0x3E</a><br>
<b>Packet Name:</b> Versions (God Client)<br>
<b>Packet Size:</b> 37<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> Kair</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown
<br />
BYTE[4] Unknown<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x3F">0x3F</a><br>
<b>Packet Name:</b> Update Statics (God Client)<br>
<b>Packet Size:</b> variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[2] Length
<br />
BYTE[4] The block number of the statics grid. This can be derived by the following formula: Block_Num = X / 8 * MapHeight + Y / 8 .... MapHeight is equal to the total number of tiles in the Y-axis divided by eight (0x0200 for map0.mul).
<br />
BYTE[4] # of static items in grid.
<br />
BYTE[4] "Extra" Value in statics index file.
<br />
Item Loop:
<br />
·        BYTE[2] Item ID
<br />
·        BYTE[1] Item's X pos relative to top left corner of grid.
<br />
·        BYTE[1] Item's Y pos relative to top left corner of grid.
<br />
·        BYTE[1] Item's Z pos.
<br />
·        BYTE[2] Item's Hue.<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x4E">0x4E</a><br>
<b>Packet Name:</b> Personal Light Level<br>
<b>Packet Size:</b> 6 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] creature id
<br />
BYTE[1] level
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x4F">0x4F</a><br>
<b>Packet Name:</b> Overall Light Level<br>
<b>Packet Size:</b> 2 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] level
<br />
·        0x00 - day
<br />
·        0x09 - OSI night
<br />
·        0x1F - Black
<br />
·        Max normal val = 0x1F<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x53">0x53</a><br>
<b>Packet Name:</b> Idle Warning<br>
<b>Packet Size:</b> 2 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] value (0x07 – idle, 0x05 – another character is online)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x54">0x54</a><br>
<b>Packet Name:</b> Play Sound Effect<br>
<b>Packet Size:</b> 12 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] mode (0x00=quiet, repeating, 0x01=single normally played sound effect)
<br />
BYTE[2] SoundModel
<br />
BYTE[2] unknown3 (speed/volume modifier? Line of sight stuff?)
<br />
BYTE[2] xLoc
<br />
BYTE[2] yLoc
<br />
BYTE[2] zLoc <br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x55">0x55</a><br>
<b>Packet Name:</b> Login Complete<br>
<b>Packet Size:</b> 1 byte<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x56">0x56</a><br>
<b>Packet Name:</b> Map Packet (cartography/treasure)<br>
<b>Packet Size:</b> 11 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] id
<br />
BYTE[1] command
<br />
·        1 = add map point.
<br />
·        2 = add new pin with pin number.(insertion. other pins after the number are pushed back.)
<br />
·        3 = change pin
<br />
·        4 = remove pin
<br />
·        5 = remove all pins on the map
<br />
·        6 = toggle the 'editable' state of the map.
<br />
·        7 = return msg from the server to the request 6 of the client.
<br />
BYTE[1] plotting state (1=on, 0=off, valid only if command 7)
<br />
BYTE[2] x location (relative to upper left corner of the map, in pixels, for points)
<br />
BYTE[2] y location (relative to upper left corner of the map, in pixels, for points)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x5B">0x5B</a><br>
<b>Packet Name:</b> Time<br>
<b>Packet Size:</b> 4 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] hour
<br />
BYTE[1] minute
<br />
BYTE[1] second<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x5D">0x5D</a><br>
<b>Packet Name:</b> Login Character<br>
<b>Packet Size:</b> 73 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] pattern1 (0xedededed)
<br />
BYTE[30] char name (0 terminated)
<br />
BYTE[33] unknown, mostly 0’s
<br />
(Byte# 0x27, 0x28, 0x30  seem to be the only non 0’s of these 33 bytes. Perhaps password data that’s not send anymore)
<br />
BYTE slot choosen (0-based)
<br />
BYTE[4] clientIP<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x65">0x65</a><br>
<b>Packet Name:</b> Set Weather<br>
<b>Packet Size:</b> 4 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] type (See Notes)
<br />
BYTE[1] num (number of weather effects on screen)
<br />
BYTE[1] temperature
<br />
<br></p>
<p><b><u>Notes</b></u><br>Types: 0x00 – “It starts to rain”, 0x01 – “A fierce storm approaches.”, 0x02 – “It begins to snow”, 0x03 - “A storm is brewing.”, 0xFF – None (turns off sound effects), 0xFE (no effect?? Set temperature?)
<br />

<br />
Maximum number of weather effects on screen is 70.
<br />
If it is raining, you can add snow by setting the num to the num of rain currently going, plus the number of snow you want.
<br />
Weather messages are only displayed when weather starts.
<br />
Weather will end automatically after 6 minutes without any weather change packets.
<br />
You can totally end weather (to display a new message) by teleporting.  I think it’s either the 0x78 or 0x20 messages that reset it, though I haven’t checked to be sure (other possibilities, 0x4F or 0x4E)</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x66">0x66</a><br>
<b>Packet Name:</b> Books (Pages, Old Packet)<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] bookID
<br />
BYTE[2] # of pages in this packet
<br />
·        For each page:
<br />
·        BYTE[2] page #
<br />
·        BYTE[2] # of lines on page
<br />
·        Repeated for each line:
<br />
·        ·        BYTE[var] null terminated line<br></p>
<p><b><u>Notes</b></u><br>server side: # of pages equals value given in 0x93/0xd4
<br />
EACH page # given. If empty: # lines: 0 + terminator (=3 0’s)
<br />
client side:  # of pages always 1. if 2 pages changed, client generates 2 packets.
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x69">0x69</a><br>
<b>Packet Name:</b> Change Text/Emote Colors<br>
<b>Packet Size:</b> 5 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[2] unknown1
<br />

<br />
<br></p>
<p><b><u>Notes</b></u><br>The client sends two of these independent of the color chosen. It sends two of them in quick succession as part of the "same" packet. The unknown1 is 0x00 0x01 in the first and 0x00 0x02 in the second.
<br />
This message has been removed.  It is no longer used.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x6C">0x6C</a><br>
<b>Packet Name:</b> Target Cursor Commands<br>
<b>Packet Size:</b> 19 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] type
<br />
·        0x00 = Select Object
<br />
·        0x01 = Select X, Y, Z
<br />
BYTE[4] cursorID
<br />
BYTE[1] Cursor Type
<br />
·        0 = ?
<br />
·        1 = ?
<br />
·        2 = ?
<br />
·        3 = Cancel current targetting
<br />
The following are always sent but are only valid if sent by client
<br />
·        BYTE[4] Clicked On ID
<br />
·        BYTE[2] click xLoc
<br />
·        BYTE[2] click yLoc
<br />
·        BYTE unknown (0x00)
<br />
·        BYTE click zLoc
<br />
·        BYTE[2] model # (if a static tile, 0 if a map/landscape tile)<br></p>
<p><b><u>Notes</b></u><br>The model # should never be trusted.
<br />

<br />
Once the server requests the client to target something, the server can undo this also. You can "kill" the targetting cursor faithfully and without any bugs. Send another Packet with Type set to 0 (Object), Cursor ID 00000000, and Cursor Type as 3. The client will respond to this by sending a response to the original request just as if the user had hit ESC to cancel targetting.
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x6D">0x6D</a><br>
<b>Packet Name:</b> Play Midi Music<br>
<b>Packet Size:</b> 3 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] musicID
<br />

<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x6E">0x6E</a><br>
<b>Packet Name:</b> Character Animation<br>
<b>Packet Size:</b> 14 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] item/char ID
<br />
BYTE[2] movement model
<br />
·        0x00 = walk
<br />
·        0x01 = walk faster
<br />
·        0x02 = run
<br />
·        0x03 = run (faster?)
<br />
·        0x04 = nothing
<br />
·        0x05 = shift shoulders
<br />
·        0x06 = hands on hips
<br />
·        0x07 = attack stance (short)
<br />
·        0x08 = attack stance (longer)
<br />
·        0x09 = swing (attack with knife)
<br />
·        0x0a = stab (underhanded)
<br />
·        0x0b = swing (attack overhand with sword)
<br />
·        0x0c = swing (attack with sword over and side)
<br />
·        0x0d = swing (attack with sword side)
<br />
·        0x0e = stab with point of sword
<br />
·        0x0f = ready stance
<br />
·        0x10 = magic (butter churn!)
<br />
·        0x11 = hands over head (balerina)
<br />
·        0x12 = bow shot
<br />
·        0x13 = crossbow
<br />
·        0x14 = get hit
<br />
·        0x15 = fall down and die (backwards)
<br />
·        0x16 = fall down and die (forwards)
<br />
·        0x17 = ride horse (long)
<br />
·        0x18 = ride horse (medium)
<br />
·        0x19 = ride horse (short)
<br />
·        0x1a = swing sword from horse
<br />
·        0x1b = normal bow shot on horse
<br />
·        0x1c = crossbow shot
<br />
·        0x1d = block #2 on horse with shield
<br />
·        0x1e = block on ground with shield
<br />
·        0x1f = swing, and get hit in middle
<br />
·        0x20 = bow (deep)
<br />
·        0x21 = salute
<br />
·        0x22 = scratch head
<br />
·        0x23 = 1 foot forward for 2 secs
<br />
·        0x24 = same
<br />
BYTE[1] unknown1 (0x00)
<br />
BYTE[1] direction
<br />
 BYTE[2] repeat (1 = once / 2 = twice / 0 = repeat forever)
<br />
BYTE[1] forward/backwards(0x00=forward, 0x01=backwards)
<br />
BYTE[1] repeat Flag (0 - Don't repeat / 1 repeat)
<br />
BYTE[1] frame Delay (0x00 - fastest / 0xFF - Too slow to watch)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x6F">0x6F</a><br>
<b>Packet Name:</b> Secure Trading<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[1] action
<br />
BYTE[4] id1
<br />
BYTE[4] id2
<br />
BYTE[4] id3
<br />
BYTE[1] nameFollowing (0 or 1)
<br />
If (nameFollowing = 1)
<br />
BYTE[?] charName<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x70">0x70</a><br>
<b>Packet Name:</b> Graphical Effect<br>
<b>Packet Size:</b> 28 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] direction type
<br />
·        00 = go from source to dest
<br />
·        01 = lightning strike at source
<br />
·        02 = stay at current x,y,z
<br />
·        03 = stay with current source character id
<br />
BYTE[4] character id
<br />
BYTE[4] target id
<br />
BYTE[2] model of the first frame of the effect
<br />
BYTE[2] xLoc
<br />
BYTE[2] yLoc
<br />
BYTE zLoc
<br />
BYTE[2] xLoc of target
<br />
BYTE[2] yLoc of target
<br />
BYTE[1] zLoc of target
<br />
BYTE[1] speed of the animation
<br />
BYTE[1] duration (0=really long, 1= shortest)
<br />
BYTE[2] unknown2 (0 works)
<br />
BYTE[1] adjust direction during animation (1=no)
<br />
BYTE[1] explode on impact<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x71">0x71</a><br>
<b>Packet Name:</b> Bulletin Board Messages<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] len
<br />
BYTE[1] subcmd
<br />
BYTE[len-4] submessage<br></p>
<p><b><u>Sub Commands</b></u><br>
Subcommand 0 – Display Bulletin Board (Server)
<br />
BYTE[4] BoardID
<br />
BYTE[22] board name (default is “bulletin board”, the rest nulls)
<br />
BYTE[4] ID (0x402000FF)
<br />
BYTE[4] zero (0)
<br />

<br />
Subcommand 1 – Message Summary (Server)
<br />
BYTE[4] BoardID
<br />
BYTE[4] MessageID
<br />
BYTE[4] ParentID (0 if top level)
<br />
BYTE[1] posterLen
<br />
BYTE[posterLen] poster (null terminated string)
<br />
BYTE[1] subjectLen
<br />
BYTE[subjectLen] subject (null terminated string)
<br />
BYTE[1] timeLen
<br />
BYTE[timeLen] time (null terminated string with time of posting) (“Day 1 @ 11:28”)
<br />

<br />
Subcommand 2 – Message (Server)
<br />
BYTE[4] BoardID
<br />
BYTE[4] MessageID
<br />
BYTE[1] posterLen
<br />
BYTE[posterLen] poster (null terminated string)
<br />
BYTE[1] subjectLen
<br />
BYTE[subjectLen] subject (null terminated string)
<br />
BYTE[1] timeLen
<br />
BYTE[timeLen] time (null terminated string with time of posting) (“Day 1 @ 11:28”)
<br />
BYTE[29] constant: (01 91 84 0A 06 1E FD 01 0B 15 2E 01 0B 17 0B 01 BB 20 46 04 66 13 F8 00 00 0E 75 00 00)
<br />
BYTE[1] numlines
<br />
For each line:
<br />
BYTE[1] linelen
<br />
BYTE[linelen] body (null terminated)
<br />

<br />
Subcommand 3 – Request Message (Client)
<br />
BYTE[4] BoardID
<br />
BYTE[4] MessageID
<br />

<br />
Subcommand 4 – Request Message Summary (Client)
<br />
BYTE[4] BoardID
<br />
BYTE[4] MessageID
<br />

<br />
Subcommand 5 – Post a message (Client)
<br />
BYTE[4] BoardID
<br />
BYTE[4] Replying to ID (0 if this is a top level / non-reply post)
<br />
BYTE[1] subjectLen  (length of the subject, includes null termination)
<br />
BYTE[subjectLen] subject (null terminated)
<br />
BYTE[1] numlines
<br />
For each line:
<br />
·        BYTE linelen
<br />
·        BYTE[linelen] body (null terminated)
<br />

<br />
Subcommand 6 – Remove Posted Message (Client)
<br />
BYTE[4] BoardID
<br />
BYTE[4] MessageID<br>
</p><br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x72">0x72</a><br>
<b>Packet Name:</b> Request War Mode<br>
<b>Packet Size:</b> 5 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] flag
<br />
·        0x00 - Normal
<br />
·        0x01 - Fighting
<br />
BYTE[3] unknown1 (always 00 32 00 in testing)
<br />
<br></p>
<p><b><u>Notes</b></u><br>Server replies with 0x77 packet</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x73">0x73</a><br>
<b>Packet Name:</b> Ping Message<br>
<b>Packet Size:</b> 2 Bytes<br>
<b>Sent By:</b> Both?<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] seq<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x74">0x74</a><br>
<b>Packet Name:</b> Open Buy Window<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] (vendorID | 0x40000000)
<br />
BYTE[1] # of items
<br />
# of items worth of item segments
<br />
·        BYTE[4] price
<br />
·        BYTE length of text description
<br />
·        BYTE[text length] item description<br></p>
<p><b><u>Notes</b></u><br>This packet is always preceded by a describe contents packet (0x3c) with the container id as the (vendorID | 0x40000000) and then an open container packet (0x24?) with the vendorID only and a model number of 0x0030 (probably the model # for the buy screen)</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x75">0x75</a><br>
<b>Packet Name:</b> Rename Character<br>
<b>Packet Size:</b> 35 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] id
<br />
BYTE[30] new name
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x76">0x76</a><br>
<b>Packet Name:</b> New Subserver<br>
<b>Packet Size:</b> 16 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] xLoc
<br />
BYTE[2] yLoc
<br />
BYTE[2] zLoc
<br />
BYTE[1] unknown (always 0)
<br />
BYTE[2] server boundry X
<br />
BYTE[2] server boundry Y
<br />
BYTE[2] server boundry Width
<br />
BYTE[2] server boundry Height<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x77">0x77</a><br>
<b>Packet Name:</b> Update Player<br>
<b>Packet Size:</b> 17 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] player id
<br />
BYTE[2] model
<br />
BYTE[2] xLoc
<br />
BYTE[2] yLoc
<br />
BYTE[1] zLoc
<br />
BYTE[1] direction
<br />
BYTE[2] hue/skin color
<br />
BYTE[1] flag (bit field)
<br />
BYTE[1] highlight color<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x78">0x78</a><br>
<b>Packet Name:</b> Draw Object<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] itemID/playerID
<br />
BYTE[2] model (item hex #)
<br />
BYTE[2] xLoc (only 15 lsb)
<br />
BYTE[2] yLoc
<br />
BYTE[1] zLoc
<br />
BYTE[1] direction
<br />
BYTE[2] dye/skin color
<br />
BYTE[1] Status flag
<br />
BYTE[1] notoriety (2's complement signed)
<br />
if (BYTE[4] == 0x00 0x00 0x00 0x00)
<br />
·        DONE
<br />
else loop this until above if statement is satisified
<br />
·        BYTE[4] itemID
<br />
·        BYTE[2] model (item hex # - only 15 lsb)
<br />
·        BYTE[1] layer
<br />
·        if (model & 0x8000)
<br />
·        ·        BYTE[2] hue<br></p>
<p><b><u>Notes</b></u><br>// Status Options:
<br />
//   0x00 Normal
<br />
//   0x01 Unknown
<br />
//   0x02 CanAlterPaperdoll
<br />
//   0x04 Poisoned
<br />
//   0x08 GoldenHealth
<br />
//   0x10 Unknown
<br />
//   0x20 Unknown
<br />
//   0x40 WarMode
<br />
//
<br />
//
<br />
// Noto Options:
<br />
//   0x1 Innocent (Blue)
<br />
//   0x2 Friend (Green)
<br />
//   0x3 Grey (Grey - Animal)
<br />
//   0x4 Criminal (Grey)
<br />
//   0x5 Enemy (Orange)
<br />
//   0x6 Murderer (Red)
<br />
//   0x7 Invulnerable (Yellow)</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x7C">0x7C</a><br>
<b>Packet Name:</b> Open Dialog Box<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] dialogID (echo'd back to the server in 7d)
<br />
BYTE[2] menuid (echo'd back to server in 7d)
<br />
BYTE[1] length of question
<br />
BYTE[length of question] question text
<br />
BYTE[1] # of responses
<br />
Then for each response:
<br />
·        BYTE[2] model id # of shown item (if grey menu -- then always 0x00 as msb)
<br />
·        BYTE[2] color of shown item
<br />
·        BYTE response text length
<br />
·        BYTE[response text length] response text<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x7D">0x7D</a><br>
<b>Packet Name:</b> Response To Dialog Box<br>
<b>Packet Size:</b> 13 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd <br />BYTE[4] dialogID (echoed back from 7C packet) <br />BYTE[2] menuid (echoed back from 7C packet) <br />BYTE[2] 1-based index of choice <br />BYTE[2] model # of choice <br />BYTE[2] color<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x80">0x80</a><br>
<b>Packet Name:</b> Login Request<br>
<b>Packet Size:</b> 62 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[30] userid
<br />
BYTE[30] password
<br />
BYTE[1] unknown1 (not usually 0x00 - so not NULL) <br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x82">0x82</a><br>
<b>Packet Name:</b> Login Denied<br>
<b>Packet Size:</b> 2 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] why
<br />
·        0x00 = unknown user
<br />
·        0x01 = account already in use
<br />
·        0x02 = account disabled
<br />
·        0x03 = password bad
<br />
·        0x04 and higher = communications failed<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x83">0x83</a><br>
<b>Packet Name:</b> Delete Character<br>
<b>Packet Size:</b> 39 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[30] password
<br />
BYTE[4] charIndex
<br />
BYTE[4] clientIP<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x86">0x86</a><br>
<b>Packet Name:</b> Resend Characters After Delete<br>
<b>Packet Size:</b> 304 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[1] # of characters
<br />
Following repeated 5 times
<br />
·        BYTE[30] character name
<br />
·        BYTE[30] character password<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x88">0x88</a><br>
<b>Packet Name:</b> Open Paperdoll<br>
<b>Packet Size:</b> 66 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] charid
<br />
BYTE[60] text
<br />
BYTE[1] flag byte
<br />
<br></p>
<p><b><u>Notes</b></u><br>If Flag Byte is 0x02 It allows you to alter someone else's paperdoll in regards to clothing, etc.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x89">0x89</a><br>
<b>Packet Name:</b> Corpse Clothing<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] corpseID
<br />
BYTE[1] itemLayer
<br />
BYTE[4] itemID
<br />
BYTE[1] terminator (0x00)<br></p>
<p><b><u>Notes</b></u><br>Followed by a 0x3C message with the contents.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x8C">0x8C</a><br>
<b>Packet Name:</b> Connect To Game Server<br>
<b>Packet Size:</b> 11 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd<br />BYTE[4] gameServer IP <br />BYTE[2] gameServer port <br />BYTE[4] new key<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x90">0x90</a><br>
<b>Packet Name:</b> Map Message<br>
<b>Packet Size:</b> 19 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] key used
<br />
BYTE[2] gump art id (0x139D)
<br />
BYTE[2] upper left x location
<br />
BYTE[2] upper left y location
<br />
BYTE[2] lower right x location
<br />
BYTE[2] lower right y location
<br />
BYTE[2] gump width in pixels
<br />
BYTE[2] gump height in pixels
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x91">0x91</a><br>
<b>Packet Name:</b> Game Server Login<br>
<b>Packet Size:</b> 65 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] key used
<br />
BYTE[30] sid
<br />
BYTE[30] password<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x93">0x93</a><br>
<b>Packet Name:</b> Books (Title Page, Old Packet)<br>
<b>Packet Size:</b> 99 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
Server Version:
<br />
BYTE[1] cmd
<br />
BYTE[4] bookID
<br />
BYTE[1] write flag
<br />
·        0x00 - non-writable
<br />
·        0x01 - writable
<br />
BYTE[1] new flag
<br />
BYTE[2] # of pages
<br />
BYTE[60] title
<br />
BYTE[30] author
<br />

<br />
Client Version:
<br />
BYTE[1] cmd
<br />
BYTE[4] bookID
<br />
BYTE[4] unknown (0)
<br />
BYTE[60] title (zero terminated, garbage after terminator)
<br />
BYTE[30] author (zero terminated, garbage after terminator)<br></p>
<p><b><u>Notes</b></u><br>Client sends a 0x93 message on book close. Tis an Update packet for the server to handle changes etc for this.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x95">0x95</a><br>
<b>Packet Name:</b> Dye Window<br>
<b>Packet Size:</b> 9 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] itemID of dye target
<br />
BYTE[2] ignored on send, model on return
<br />
BYTE[2] model on send, color on return from client (default on server send is 0x0FAB)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x97">0x97</a><br>
<b>Packet Name:</b> Move Player<br>
<b>Packet Size:</b> 2 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] direction<br></p>
<p><b><u>Notes</b></u><br>Moves player played by client one step in requested direction. Doesn’t move if there are obstacles.
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x98">0x98</a><br>
<b>Packet Name:</b> All Names (3D Client Only)<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blocksize
<br />
BYTE[4] ID
<br />
If (server-reply)
<br />
BYTE[30] name (0 terminated)<br></p>
<p><b><u>Notes</b></u><br>Only 3D clients send this packet. Server and client packet.
<br />

<br />
Client asks for name of object with ID x. Server has to reply with ID + name. Client automatically knows names of items. Hence it only asks only for NPC/Player names nearby, but shows bars of items plus NPC’s.
<br />

<br />
Client request has 7 bytes, server-reply 37. Triggered by Crtl + Shift. </p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x99">0x99</a><br>
<b>Packet Name:</b> Give Boat/House Placement View<br>
<b>Packet Size:</b> 26 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] request (0x01 from server, 0x00 from client)
<br />
BYTE[4] ID of deed
<br />
BYTE[12] unknown (all 0)
<br />
BYTE[2] multi model (item model - 0x4000)
<br />
BYTE[6] unknown (all 0)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x9A">0x9A</a><br>
<b>Packet Name:</b> Console Entry Prompt<br>
<b>Packet Size:</b> 16 Bytes<br>
<b>Sent By:</b> Both?<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] objectID
<br />
BYTE[4] prompt#
<br />
BYTE[4] 0=request/esc, 1=reply
<br />
BYTE[?] textstring (optional)
<br />
BYTE terminator (0x00)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x9B">0x9B</a><br>
<b>Packet Name:</b> Request Help<br>
<b>Packet Size:</b> 258 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[257] (0x00)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x9E">0x9E</a><br>
<b>Packet Name:</b> Sell List<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] shopkeeperID
<br />
BYTE[2] numItems
<br />
For each item, a structure containing:
<br />
·        BYTE[4] itemID
<br />
·        BYTE[2] itemModel
<br />
·        BYTE[2] itemHue/Color
<br />
·        BYTE[2] itemAmount
<br />
·        BYTE[2] value
<br />
·        BYTE[2] nameLength
<br />
·        BYTE[?] name<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0x9F">0x9F</a><br>
<b>Packet Name:</b> Sell List Reply<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] shopkeeperID
<br />
BYTE[2] itemCount
<br />
For each item, a structure containing:
<br />
·        BYTE[4] itemID
<br />
·        BYTE[2] quantity<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA0">0xA0</a><br>
<b>Packet Name:</b> Select Server<br>
<b>Packet Size:</b> 3 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] server # chosen<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA1">0xA1</a><br>
<b>Packet Name:</b> Update Current Health<br>
<b>Packet Size:</b> 9 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] playerID
<br />
BYTE[2] maxHealth
<br />
BYTE[2] currentHealth<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA2">0xA2</a><br>
<b>Packet Name:</b> Update Current Mana<br>
<b>Packet Size:</b> 9 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] playerID
<br />
BYTE[2] maxMana
<br />
BYTE[2] currentMana<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA3">0xA3</a><br>
<b>Packet Name:</b> Update Current Stamina<br>
<b>Packet Size:</b> 9 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] playerID
<br />
BYTE[2] maxStamina
<br />
BYTE[2] currentStamina<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA4">0xA4</a><br>
<b>Packet Name:</b> Client Spy<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[148] Unknown (previously, this has had info such as your graphics card name, free HD space, number of processors, etc.)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA5">0xA5</a><br>
<b>Packet Name:</b> Open Web Browser<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[blockSize-3] null terminated full web address<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA6">0xA6</a><br>
<b>Packet Name:</b> Tip/Notice Window<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[1] flag
<br />
·        0x00 - tips window
<br />
·        0x01 – ignored
<br />
·        0x02 - updates
<br />
BYTE[4] tip #
<br />
BYTE[2] msgSize
<br />
BYTE[msgSize] message (ascii, not null terminated)
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA7">0xA7</a><br>
<b>Packet Name:</b> Request Tip/Notice Window<br>
<b>Packet Size:</b> 4 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] last tip #
<br />
BYTE[1] flag
<br />
·        0x00 - tips window
<br />
·        0x01 - notice window<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA8">0xA8</a><br>
<b>Packet Name:</b> Game Server List<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
BYTE[2] blockSize
<br />
BYTE System Info Flag
<br />
· 0xCC - Don't send
<br />
· 0x64 - Send Video card
<br />
·  ?? -
<br />
BYTE[2] # of servers
<br />
Then each server --
<br />
· BYTE[2] serverIndex (0-based)
<br />
· BYTE[32] serverName
<br />
· BYTE percentFull
<br />
· BYTE timezone
<br />
· BYTE[4] pingIP<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xA9">0xA9</a><br>
<b>Packet Name:</b> Characters / Starting Locations<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE cmd
<br />
BYTE[2] blockSize
<br />
BYTE # of characters
<br />

<br />
Following repeated 5 times
<br />
BYTE[30] character name
<br />
BYTE[30] character password
<br />
BYTE number of starting locations
<br />

<br />
Following for as many locations as you have
<br />
BYTE locationIndex (0-based)
<br />
BYTE[31] town (general name)
<br />
BYTE[31] exact name
<br />

<br />
BYTE[4] Flags (see notes)<br></p>
<p><b><u>Notes</b></u><br>Flags list:
<br />
0x02 = send config/req logout (IGR?)
<br />
0x04 = single character (siege)
<br />
0x08 = enable npcpopup menus
<br />
0x10 = unknown
<br />
0x20: enable common AOS features (tooltip thing/fight system book, but not AOS monsters/map/skills)
<br />

<br />
Flags can be comined as literals to view. Such as to have NPC Popup Menus AND Common AOS Features, send as 0x28, not 0x8 plus 0x20 form.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xAA">0xAA</a><br>
<b>Packet Name:</b> Allow/Refuse Attack<br>
<b>Packet Size:</b> 5 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] CharID being attacked
<br />
<br></p>
<p><b><u>Notes</b></u><br>ID is set to 00 00 00 00 when attack is refused.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xAB">0xAB</a><br>
<b>Packet Name:</b> Gump Text Entry Dialog<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] id
<br />
BYTE[1] parentID
<br />
BYTE[1] buttonID
<br />
BYTE[1] textlen
<br />
BYTE[?] text
<br />
BYTE[1] cancel (0=disable, 1=enable)
<br />
BYTE[1] style (0=disable, 1=normal, 2=numerical)
<br />
BYTE[4] format (if style 1, max text len, if style2, max numeric value)
<br />
BYTE[1] text2 length
<br />
BYTE[?] text2<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xAC">0xAC</a><br>
<b>Packet Name:</b> Gump Text Entry Dialog Reply<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] ID
<br />
BYTE[1] type
<br />
BYTE[1] index
<br />
BYTE[3] unkown?
<br />
BYTE[?] reply<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xAD">0xAD</a><br>
<b>Packet Name:</b> Unicode/Ascii speech request<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[1] Type
<br />
BYTE[2] Color
<br />
BYTE[2] Font
<br />
BYTE[4] Language (Null Terminated)
<br />
·  “enu“ - United States English
<br />
·  “des” - German Swiss
<br />
·  “dea” - German Austria
<br />
·  “deu” - German Germany
<br />
·  ... for a complete list see langcode.iff
<br />
if (Type & 0xc0)
<br />
·  BYTE[1,5] Number of distinct Trigger words (NUMWORDS). 12 Bit number, Byte #13  = Bit 11…4 of NUMWORDS, Hi-Nibble of Byte #14 (Bit 7…4)  = Bit  0…3 of NUMWORDS
<br />
· BYTE[1,5] Index to speech.mul. 12 Bit number, Low Nibble of Byte #14 (Bits 3…0) = Bits 11..8 of Index, Byte #15  = Bits 7…0 of Index
<br />
· UNKNOWNS = ( (NUMWORDS div 2) *3 ) + (NUMWORDS % 2)  – 1. div = Integeger division, % = modulo operation, NUMWORDS >= 1. examples: UNKNOWNS(1)=0, UNKNOWNS(2)=2, UNKNOWNS(3)=3, UNKNOWNS(4)=5, UNKNOWNS(5)=6, UNKNOWNS(6)=8, UNKNOWNS(7)=9, UNKNOWNS(8)=11, UNKNOWNS(9)=12
<br />
· BYTE[UNKNOWNS] Idea behind this is getting speech parsing load client side.
<br />
Thus this contains data OSI server use for easier parsing. It’s client side hardcoded and exact details are unkown.
<br />
· BYTE[?] Ascii Msg – Null Terminated(blockSize – (15+UNKNOWNS) )
<br />
else
<br />
· BYTE[?][2] Unicode Msg - Null Terminated (blockSize - 12)<br></p>
<p><b><u>Notes</b></u><br>For pre 2.0.7 clients Type is always < 0xc0. Uox based emus convert post 2.0.7 data of this packet to pre 2.0.7 data if Type >=0xc0.
<br />

<br />
(different view of it)
<br />
If Mode&0xc0 then there are keywords (from speech.mul) present.
<br />
Keywords:
<br />
The first 12 bits = the number of keywords present. The keywords are included right after this, each one is 12 bits also.
<br />
The keywords are padded to the closest byte. For example, if there are 2 keywords, it will take up 5 bytes. 12bits for the number, and 12 bits for each keyword. 12+12+12=36. Which will be padded 4 bits to 40 bits or 5 bytes.
<br />

<br />
The various types of text is as follows:
<br />
0x00 - Normal
<br />
0x01 - Broadcast/System
<br />
0x02 - Emote
<br />
0x06 - System/Lower Corner
<br />
0x07 - Message/Corner With Name
<br />
0x08 - Whisper
<br />
0x09 - Yell
<br />
0x0A - Spell
<br />
0x0D - Guild Chat
<br />
0x0E - Alliance Chat
<br />
0x0F - Command Prompts</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xAE">0xAE</a><br>
<b>Packet Name:</b> Unicode Speech message<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] ID
<br />
BYTE[2] Model
<br />
BYTE[1] Type
<br />
BYTE[2] Color
<br />
BYTE[2] Font
<br />
BYTE[4] Language
<br />
BYTE[30] Name
<br />
BYTE[?][2] Msg – Null Terminated (blockSize – 48)<br></p>
<p><b><u>Notes</b></u><br>The various types of text is as follows:
<br />
0x00 - Normal
<br />
0x01 - Broadcast/System
<br />
0x02 - Emote
<br />
0x06 - System/Lower Corner
<br />
0x07 - Message/Corner With Name
<br />
0x08 - Whisper
<br />
0x09 - Yell
<br />
0x0A - Spell
<br />
0x0D - Guild Chat
<br />
0x0E - Alliance Chat
<br />
0x0F - Command Prompts</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xAF">0xAF</a><br>
<b>Packet Name:</b> Display Death Action<br>
<b>Packet Size:</b> 13 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] player id
<br />
BYTE[4] corpse id
<br />
BYTE[4] unknown (all 0)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB0">0xB0</a><br>
<b>Packet Name:</b> Send Gump Menu Dialog<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] blockSize
<br />
BYTE[4] id
<br />
BYTE[4] gumpid
<br />
BYTE[4] x
<br />
BYTE[4] y
<br />
BYTE[2] command section length
<br />
BYTE[?] commands (zero terminated)
<br />
BYTE[2] numTextLines
<br />
· BYTE[2] text length (in unicode (2 byte) characters.)
<br />
· BYTE[?] text (in unicode)<br></p>
<p><b><u>Notes</b></u><br>In gump packets, and with any EMU (POL for sure) the "ID" is the # of the script's PID that fired the gump. This can be used via specific 0xBF packets to send the ID to the client to force closing of the gump from the server. When this is done, the client Auto Responds as if it had "exited" the menu normally so the serverside script will handle it as such.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB1">0xB1</a><br>
<b>Packet Name:</b> Gump Menu Selection<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] id (first Id in 0xb0)
<br />
BYTE[4] gumpId (second Id in 0xb0)
<br />
BYTE[4] buttonId (which button perssed ? 0 if closed)
<br />
BYTE[4] switchcount  (response info for radio buttons and checkboxes, any switches listed here are switched on)
<br />
For each switch
<br />
· BYTE[4] SwitchId
<br />
BYTE[4] textcount  (response info for textentries)
<br />
For each textentry
<br />
· BYTE[2] textId
<br />
· BYTE[2] textlength
<br />
· BYTE[length*2] Unicode text (not nullterminated)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB2">0xB2</a><br>
<b>Packet Name:</b> Chat Message<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[2] messageType
<br />
Messagetypes will be listed as Subcommands.<br></p>
<p><b><u>Sub Commands</b></u><br>
Messagetypes 0x0001 - 0x0024:
<br />
BYTE[4] unknown (00 00 00 00)
<br />
BYTE[len-9] Unicode for %1 if the message type has a %1 variable for inputting text.
<br />
BYTE[2] Null Terminator if there is a %2 Unicode element. (00 00)
<br />
BYTE[len-(2+%1+9)] Unicode for %2 if the message type has a %2 variable for inputting text.
<br />
BYTE[2] Null Terminator for Packet (00 00)
<br />

<br />
Messagetypes 0x0028 - 0x002C:
<br />
BYTE[4] unknown (00 00 00 00)
<br />
BYTE[len-9] Unicode for %1 if the message type has a %1 variable for inputting text.
<br />
BYTE[2] Null Terminator if there is a %2 Unicode element. (00 00)
<br />
BYTE[len-(2+%1+9)] Unicode for %2 if the message type has a %2 variable for inputting text.
<br />
BYTE[2] Null Terminator for Packet (00 00)
<br />

<br />
MessageType 0x0025 (Message), 0x0026 (Emote), 0x0027 (OOC):
<br />
BYTE[3] Language Code (ENU for english)
<br />
BYTE[1] Null Terminator (00)
<br />
BYTE[2] Message from (see notes)
<br />
BYTE[?] Username in Unicode
<br />
BYTE[2] Null Terminator for Username (00 00)
<br />
BYTE[?] Unicode Message Sent
<br />
BYTE[2] Null Terminator for Message
<br />

<br />
MessageType 0x03E8 (create conference):
<br />
BYTE[4] Unknown (00 00 00 00)
<br />
BYTE[?] Unicode Channel Name
<br />
BYTE[2] Null Terminator for Channel Name (00 00)
<br />
BYTE[2] Password Setting (00 30 = No Pass, 00 31 = Password required)
<br />
BYTE[2] Null Terminator for packet (00 00)
<br />

<br />
MessageType 0x03E9 (Destroy conference):
<br />
BYTE[4] Unknown (00 00 00 00)
<br />
BYTE[?] Unicode Channel Name
<br />
BYTE[4] Unknown (00 00 00 00)
<br />

<br />
MessageType 0x03EB (Display Enter Username window):
<br />
BYTE[8] Unknown (00 00 00 00 00 00 00 00)
<br />

<br />
MessageType 0x03EC (Close Chat):
<br />
BYTE[8] Unknown (00 00 00 00 00 00 00 00)
<br />

<br />
MessageType 0x03ED (Username accepted, display chat):
<br />
BYTE[4] Unknown (00 00 00 00)
<br />
BYTE[?] Unicode Username
<br />
BYTE[4] Null Terminator (00 00 00 00)
<br />

<br />
MessageType 0x03EE (Add User):
<br />
BYTE[4] Unknown (00 00 00 00)
<br />
BYTE[2] User Type (see notes)
<br />
BYTE[?] Unicode Username
<br />
BYTE[2] Null Terminator (00 00)
<br />

<br />
MessageType 0x03EF (Remove User):
<br />
BYTE[2] Unknown (00 00)
<br />
BYTE[?] Unicode Username
<br />
BYTE[2] Null Terminator (00 00)
<br />

<br />
MessageType 0x03F0 (Clear All Players):
<br />
BYTE[8] Unknown (00 00 00 00 00 00 00 00)
<br />

<br />
MessageType 0x03F1 (You have joined the %1 Conference):
<br />
BYTE[4] Unknown (00 00 00 00)
<br />
BYTE[?] Unicode Conference Name (%1)
<br />
BYTE[4] Unknown (00 00 00 00)<br>
</p><p><b><u>Notes</b></u><br>MessageTypes 0x0001 - 0x0024 and 0x0028 - 0x002C: Directly from Chat.enu file:
<br />
0x0001: You are already ignoring the maximum number of peolpe.
<br />
0x0002: You are already ignoring %1.
<br />
0x0003: You are now ignoring %1.
<br />
0x0004: You are no longer ignoring %1.
<br />
0x0005: You are not ignoring %1.
<br />
0x0006: You are no longer ignoring anyone.
<br />
0x0007: That is not a valid conference name.
<br />
0x0008: There is already a conference of that name.
<br />
0x0009: You must have operator status to do this.
<br />
0x000A: Conference %1 renamed to %2.
<br />
0x000B: You must be in a conference to do this. To join a conference, select one from the Conference menu.
<br />
0x000C: There is no player named '%1'.
<br />
0x000D: There is no conference named '%1'.
<br />
0x000E: That is not the correct password.
<br />
0x000F: %1 has chosen to ignore you. None of your messages to them will get through.
<br />
0x0010: The moderator of this conference has not given you speaking privileges.
<br />
0x0011: You can now receive private messages.
<br />
0x0012: You will no longer receive private messages. Those who send you a message will be notified that you are blocking incoming messages.
<br />
0x0013: You are now showing your character name to any players who inquire with the whois command.
<br />
0x0014: You are no longer showing your character name to any players who inquire with the whois command.
<br />
0x0015: %1 is remaining anonymous.
<br />
0x0016: %1 has chosen to not receive private messages at the moment.
<br />
0x0017: %1 is known in the lands of Britannia as %2.
<br />
0x0018: %1 has been kicked out of the conference.
<br />
0x0019: %1, a conference moderator, has kicked you out of the conference.
<br />
0x001A: You are already in the conference '%1'.
<br />
0x001B: %1 is no longer a conference moderator.
<br />
0x001C: %1 is now a conference moderator.
<br />
0x001D: %1 has removed you from the list of conference moderators.
<br />
0x001E: %1 has made you a conference moderator.
<br />
0x001F: %1 no longer has speaking privileges in this conference.
<br />
0x0020: %1 now has speaking privileges in this conference.
<br />
0x0021: %1, a conference moderator, has removed your speaking privileges for this conference.
<br />
0x0022: %1, a conference moderator, has granted you speaking privileges in this conference.
<br />
0x0023: From now on, everyone in the conference will have speaking privileges by default.
<br />
0x0024: From now on, only moderators will have speaking privileges in this conference by default.
<br />
0x0028: The password to the conference has been changed.
<br />
0x0029: Sorry--the conference named '%1' is full and no more players are allowed in.
<br />
0x002A: You are banning %1 from this conference.
<br />
0x002B: %1, a conference moderator, has banned you from the conference.
<br />
0x002C: You have been banned from this conference.
<br />

<br />
MessageTypes 0025, 0026, and 0027: Message from is as follows:
<br />
0x0030 = user, 0x0031 = moderator, 0x0032 = muted, 0x0034 = me, 0x0035 = system
<br />

<br />
MessageType 03EE: User types are 0030 for User, 0031 for Moderator, and 0032 for Muted User.
<br />

<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB3">0xB3</a><br>
<b>Packet Name:</b> Chat Text<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] Length
<br />
BYTE[4] Language
<br />
BYTE[2] UnKNOWN(00 00)
<br />
BYTE[1] Text/Command Type<br></p>
<p><b><u>Sub Commands</b></u><br>
Type 0x41 (Change Password):
<br />
BYTE[?] Unicode Password
<br />
BYTE[2] Null Terminator (00 00)
<br />

<br />
Type 0x58 (Close):
<br />
BYTE[2] Null Terminator (00 00)
<br />

<br />
Type 0x61 (Message):
<br />
BYTE[?] Unicode Message
<br />
BYTE[2] Null Terminator (00 00)
<br />

<br />
Text 0x62 (Join Conference):
<br />
BYTE[2] Holder (0x0022)
<br />
BYTE[?] Unicode conference name
<br />
BYTE[2] Holder (0x0022)
<br />
BYTE[2] Holder (0x0020)
<br />
BYTE[?] Unicode password if pass req'd
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x63 (Create New Conference):
<br />
BYTE[?] Unicode conference name
<br />
BYTE[2] Holder (0x007b) if pass entered
<br />
BYTE[?] Unicode conference pass if pass entered
<br />
BYTE[2] Holder (0x007d) if pass entered
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x64 (Rename Conference):
<br />
BYTE[?] Unicode conference name (all text after /rename )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x65 (Send Private Message):
<br />
BYTE[?] Unicode name (all text after /msg )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x66 (Ignore):
<br />
BYTE[?] Unicode name (all text after +ignore )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x67 (Stop Ignoring):
<br />
BYTE[?] Unicode name (all text after -ignore )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x68 (Toggle Ignore):
<br />
BYTE[?] Unicode name (all text after /ignore )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x69 (Grant Speaking Priveleges):
<br />
BYTE[?] Unicode name (all text after +voice )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x6A (Remove Speaking Priveleges):
<br />
BYTE[?] Unicode name (all text after -voice )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x6B (Toggle Speaking Priveleges):
<br />
BYTE[?] Unicode name (all text after /voice )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x6C (Grant Moderator Status):
<br />
BYTE[?] Unicode name (all text after +ops )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x6D (Remove Moderator Status):
<br />
BYTE[?] Unicode name (all text after -ops )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x6E (Toggle Moderator Status):
<br />
BYTE[?] Unicode name (all text after /ops )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x6F (not receiving messages):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x70 (receiving messages):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x71 (Toggle receiving messages):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x72 (show my character name):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x73 (don't show my character name):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x74 (Toggle showing my character name):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x75 (Who is this player?):
<br />
BYTE[?] Unicode text (all text after /whois )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x76 (Kick out of the conference?):
<br />
BYTE[?] Unicode text (all text after /kick )
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x77 (only moderators have speaking priveleges by default):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x78 (everyone has speaking priveleges by default):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x79 (Toggle default speaking priveleges):
<br />
BYTE[2] Null Teriminator (0x0000)
<br />

<br />
Text 0x7A (emote)
<br />
BYTE[?] Unicode text (all text after /emote or /em ):
<br />
BYTE[2] Null Teriminator (0x0000)<br>
</p><br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB5">0xB5</a><br>
<b>Packet Name:</b> Open Chat Window<br>
<b>Packet Size:</b> 64 bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[63] chatname, if known by client (all 00 if unknown) (name in unicode)<br></p>
<p><b><u>Notes</b></u><br>This message is very incomplete.  From the server, just know that it is 0xB5 len len, and pass the data through as is appropriate.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB6">0xB6</a><br>
<b>Packet Name:</b> Send Help/Tip Request<br>
<b>Packet Size:</b> 9 Bytes<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] id
<br />
BYTE[1] language # (1 for enu)
<br />
BYTE[3] language name (enu for English – United states)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB7">0xB7</a><br>
<b>Packet Name:</b> Help/Tip Data<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] id
<br />
BYTE[?][2] message, in unicode
<br />
BYTE[2] null terminator (0x0000)
<br />
BYTE[2] message terminator (0x3300)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB8">0xB8</a><br>
<b>Packet Name:</b> Request/Char Profile<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[1] mode (CLIENT ONLY! Does not exist in server message.)
<br />
BYTE[4] id
<br />
If request, ends here.
<br />
If Update request
<br />
· BYTE[2] cmdType (0x0001 – Update)
<br />
· BYTE[2] msglen (# of unicode characters)
<br />
· BYTE[msglen][2] new profile, in unicode, not null terminated.
<br />
Else If from server
<br />
· BYTE[?] title (not unicode, null terminated.)
<br />
· BYTE[?][2] static profile  ( unicode string can't  be edited )
<br />
· BYTE[2] (0x0000) (static profile terminator)
<br />
· BYTE[?][2] profile (in unicode, can be edited)
<br />
· BYTE[2] (0x0000) (profile terminator)<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xB9">0xB9</a><br>
<b>Packet Name:</b> Enable locked client features<br>
<b>Packet Size:</b> 3 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] feature #<br></p>
<p><b><u>Notes</b></u><br>if (MSB not set)
<br />
Bit# 1 T2A upgrade, enables chatbutton
<br />
Bit# 2 enables LBR update.  (of course LBR installation is required)(plays MP3 instead of midis, 2D LBR client shows new LBR monsters,…)
<br />
if (MSB set)
<br />
Bit# 3 T2A upgrade, enables chatbutton
<br />
Bit# 4 enables LBR update
<br />
Bit#5  enables AOS update (Aos monsters/map (AOS installation required for that) ,  AOS skills/necro/paladin/fight book stuff  – works for ALL clients 4.0 and above)
<br />

<br />

<br />
Examples:
<br />
ML: B980FB
<br />
AOS-7AV: B9803B
<br />
AOS: B9801B
<br />
LBR:  B90003</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xBA">0xBA</a><br>
<b>Packet Name:</b> Quest Arrow<br>
<b>Packet Size:</b> 6 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] active (1=on, 0=off)
<br />
BYTE[2] xLoc
<br />
BYTE[2] yLoc<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xBB">0xBB</a><br>
<b>Packet Name:</b> Ultima Messenger<br>
<b>Packet Size:</b> 9 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] id1
<br />
BYTE[4] id2
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xBC">0xBC</a><br>
<b>Packet Name:</b> Seasonal Information<br>
<b>Packet Size:</b> 3 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] id1
<br />
BYTE[1] id2<br></p>
<p><b><u>Notes</b></u><br>If id2 = 1, then this is a season change. If season change, then id1 = (0=spring, 1=summer, 2=fall, 3=winter, 4 = desolation)
<br />

<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xBD">0xBD</a><br>
<b>Packet Name:</b> Client Version<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
If (client-version of packet)
<br />
BYTE[len-3] string stating the client version (0 terminated)  (like: “1.26.4”)<br></p>
<p><b><u>Notes</b></u><br>Client version : client sends its version string (e.g “3.0.8j”)
<br />
Server version : 0xbd 0x0 0x3 (client replies with client version of this packet)
<br />

<br />
Clients sends a client version of this packet ONCE at login (without server request.)</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xBE">0xBE</a><br>
<b>Packet Name:</b> Assist Version<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
If (client-version of packet)
<br />
· BYTE[4] Assist version (numeric)
<br />
· BYTE[?] string stating the client version (0 terminated)  (like: “1.26.4”)
<br />
If (server-version of packet)
<br />
· BYTE[4] Allowed Assist version (numeric)<br></p>
<p><b><u>Notes</b></u><br>Server requests assist version via server side version of this packet, client replies with client side version of packet. If it’s a client without Assist, allowed Assists version from server is relayed in client version packet. Because assist never has assist version 0, that would be a way to disallow it.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xBF">0xBF</a><br>
<b>Packet Name:</b> General Information Packet<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[2] subcmd
<br />
BYTE[length-5] submessage/commands
<br />
<br></p>
<p><b><u>Sub Commands</b></u><br>
Subcommand 1: Initialize Fast Walk Prevention
<br />
BYTE[4] key1
<br />
BYTE[4] key2
<br />
BYTE[4] key3
<br />
BYTE[4] key4
<br />
BYTE[4] key5
<br />
BYTE[4] key6
<br />

<br />
Subcommand 2: Add key to Fast Walk Stack
<br />
BYTE[4] newkey
<br />

<br />
Subcommand 4: "Close Generic Gump"
<br />
BYTE[4] dialogID // which gump to destroy (second ID in 0xB0 packet)
<br />
BYTE[4] buttonId // response buttonID for packet 0xB1
<br />

<br />
Subcommand 5: Screen size
<br />
BYTE[2] unknown1 , always 0 ?
<br />
BYTE[2] X
<br />
BYTE[2] Y
<br />
BYTE[2] unknown2
<br />

<br />
---- Start of Subcommand 0x6 ----
<br />
Subcommand 6: Party System
<br />
Subsubcommands for 6:
<br />
Subsubcommand 1: Add a party member (4 bytes)
<br />
· BYTE[4] id (if 0, a targeting cursor appears)Client Message
<br />

<br />
Subsubcommand 1: Add party member(s) (1+ numMembers*4)
<br />
· BYTE[1] number of Members (total number of members in the party)
<br />
Then, for each member in numMembers:
<br />
· BYTE[4] id
<br />
Server Message
<br />

<br />
Subsubcommand 2: Remove a party member (4 bytes)
<br />
· BYTE[4] id (if 0, a targeting cursor appears)
<br />
Client message
<br />

<br />
Subsubcommand 2: Remove a party member (? Bytes)
<br />
· BYTE[1] number of Members (total number of members in the new party)
<br />
· BYTE[4] idofPlayerRemoved
<br />
Then, for each member in numMembers:
<br />
· BYTE[4] id
<br />
Server message
<br />

<br />
Subsubcommand 3: Tell party member a message (Variable # of bytes)
<br />
· BYTE[4] id (of target, from client, of source, from server)
<br />
· BYTE[n][2] Null terminated Unicode message.
<br />
Client & Server Message
<br />

<br />
Subsubcommand 4: Tell full party a message (Variable # of bytes)
<br />
· BYTE[n][2] Null terminated Unicode message.
<br />
Client Message.
<br />

<br />
Subsubcommand 4: Tell full party a message (Variable # of bytes)
<br />
· BYTE[4] id (of source)
<br />
· BYTE[n][2] Null terminated Unicode message.
<br />
Server Message
<br />

<br />
Subsubcommand 6: Party Can Loot Me?  (1 byte)
<br />
· BYTE[1] canloot (0=no, 1=yes)
<br />
Client message
<br />

<br />
Subsubcommand 8: Accept join party invitation (4 bytes)
<br />
· BYTE[4] id (party leader’s id)
<br />
Client message
<br />

<br />
Subsubcommand 9: Decline join party invitation (4 bytes)
<br />
· BYTE[4] id (party leader’s id)
<br />
Client message
<br />
---- End of Subcommand 0x6 ----
<br />

<br />
Subcommand 8: Set cursor hue / Set MAP
<br />
BYTE[1] hue  (0 = Felucca, unhued / BRITANNIA map.  1 = Trammel, hued gold / BRITANNIA map, 2 = (switch to) ILSHENAR map)
<br />

<br />
Subcommand 0x0a: wrestling stun
<br />
Sent by using the client's Wrestle Stun Macro key in Options. This is no longer used since AoS was introduced. The Macro selection that used it was removed.
<br />

<br />
Subcommand 0x0b: Client Language
<br />
BYTE[3] language  (ENU, for English)
<br />

<br />
Subcommand 0x0c: Closed Status Gump
<br />
BYTE[4] id (character id)
<br />

<br />
Subcommand 0x0e: 3D Client Action
<br />
BYTE[4] Animation ID. See Notes for list.
<br />

<br />
Subcommand 0x0f: unknown , send once at login
<br />
BYTE[5] unknown (0a 00 00 00 07) here
<br />

<br />
Subcommand 0x10: unknown, related to 0xD6 Mega Cliloc somehow
<br />
BYTE[4] Item ID
<br />
BYTE[4] Unknown
<br />

<br />
Subcommand 0x13: Request popup menu
<br />
BYTE[4] id (character id)
<br />

<br />
Subcommand 0x14: Display Popup menu
<br />
BYTE[2]  Unknown(always 00 01)
<br />
BYTE[4]  Serial
<br />
BYTE[1]  Number of entries in the popup
<br />
For each Entry
<br />
· BYTE[2]   Entry  Tag (this will be returned by the client on selection)
<br />
· BYTE[2]   Text ID   ID is the file number for intloc#.language e.g intloc6.enu and the index into that
<br />
· BYTE[2]  Flags 0x01 = locked, 0x02 = arrow, 0x20 = color
<br />
· If (Flags &0x20)
<br />
· BYTE[2] color; // rgb 1555 color (ex, 0 = transparent, 0x8000 = solid black, 0x1F = blue, 0x3E0 = green, 0x7C00 = red)
<br />

<br />
Subcommand 0x15: Popup Entry Selection
<br />
BYTE[4]   Character ID
<br />
BYTE[2]   Entry Tag for line selected provided in subcommand 0x14
<br />

<br />
Subcommand 0x17: Codex of wisdom
<br />
BYTE[1]  unknown, always 1. if not 1, packet seems to have no effect
<br />
BYTE[4]   msg number
<br />
BYTE[1]   presentation (0: “?” flashing, 1: directly opening)
<br />

<br />
Subcommand 0x18: Enable map-diff (files)
<br />
BYTE[4]   Number of maps
<br />
For each map
<br />
· BYTE[4] Number of map patches in this map
<br />
· BYTE[4] Number of static patches in this map
<br />

<br />
Subcommand: 0x19: Extended stats
<br />
BYTE[1]  type // always 2 ? never seen other value
<br />
BYTE[4]  serial
<br />
BYTE[1] unknown // always 0 ?
<br />
BYTE[1] lockBits // Bits: XXSS DDII (s=strength, d=dex, i=int), 0 = up, 1 = down, 2 = locked
<br />

<br />
Subcommand: 0x1a: Extended stats
<br />
BYTE[1]  stat // 0: str, 1: dex, 2:int
<br />
BYTE[1]  status // 0: up, 1:down, 2: locked
<br />

<br />
Subcommand 0x1b: New Spellbook
<br />
BYTE[2] unknown, always 1
<br />
BYTE[4] Spellbook serial
<br />
BYTE[2] Item Id
<br />
BYTE[2] scroll offset // 1==regular, 101=necro, 201=paladin, 401=bushido, 501=ninjitsu, 601=spellweaving
<br />
BYTE[8] spellbook content // first bit of first byte = spell #1, second bit of first byte = spell #2, first bit of second byte = spell #8, etc
<br />

<br />
Subcommand 0x1c: Spell selected, client side
<br />
BYTE[2]   unknown, always 2
<br />
BYTE[2]   selected spell(0-indexed)+scroll offset from sub 0x1b
<br />

<br />
Subcommand 0x1D: Send House Revision State
<br />
byte[4] houseserial
<br />
byte[4] revision state
<br />

<br />
Subcommand 0x1E:
<br />
byte[4] houseserial
<br />

<br />
Subcommand 0x21: (AOS) Ability icon confirm.
<br />
Note: no data, just (bf 00 05 21)
<br />

<br />
Subcommand  0x22: Damage
<br />
BYTE[2] unknown, always 1
<br />
BYTE[4] Serial
<br />
BYTE[1] Damage // how much damage was done ?
<br />

<br />
Subcommand  0x24: UnKnown
<br />
BYTE[1] unknown. UOSE Introduced
<br />

<br />
Subcommand 0x25: SE Ability Change
<br />
BYTE[1] Ability ID
<br />
BYTE[1] 0/1 On/Off
<br />

<br />
Subcommand 0x26: Mount Speed
<br />
BYTE[1] 0/1 On/Off<br>
</p><p><b><u>Notes</b></u><br>Subcommand 1: Server Sent. This sets up stack on the client and whenever it moves, it takes the top value from this stack and uses it.  (key1 starts at the top, key6 at the bottom)
<br />

<br />
Subcommand 2: Server Sent. This key is added to the top of the stack.  In other words, it’s the one that will be used next.  Basically, the other 5 only get used when the client is sending moves faster than the server is responding.
<br />

<br />
Subcommand 4: Server Sent.
<br />

<br />
Subcommand 5: Client Sent.
<br />

<br />
Subcommand 6: Sent by both. Contains subcommands for 0x6 for the party system. Be sure you check the packet listing good before attempting these.
<br />

<br />
Subcommand 8: Server Sent.
<br />

<br />
Subcommand a: Read above. Client Sent.
<br />

<br />
Subcommand b: Client Sent once at login of character.
<br />

<br />
Subcommand c: Client Sent when they close their status bar.
<br />

<br />
Subcommand e: Client Sent. Server responds with Play Animation packets.
<br />
List of animation IDs:
<br />
00 00 00 06 - Yawn
<br />
00 00 00 15 - Faint
<br />
00 00 00 20 - Bow
<br />
00 00 00 21 - Salute
<br />
00 00 00 64 - Applaud
<br />
00 00 00 66 - Argue
<br />
00 00 00 68 - Blow Kiss
<br />
00 00 00 69 - Formal Bow
<br />
00 00 00 6B - Cover Ears
<br />
00 00 00 6C - Curtsey
<br />
00 00 00 6D - Jig
<br />
00 00 00 6E - Folk Dance
<br />
00 00 00 6F - Dance
<br />
00 00 00 70 - Tribal Dance
<br />
00 00 00 71 - Fold Arms
<br />
00 00 00 72 - Impatient
<br />
00 00 00 73 - Lecture
<br />
00 00 00 74 - Nod
<br />
00 00 00 75 - Point
<br />
00 00 00 77 - Greet Salute
<br />
00 00 00 79 - Shake Head
<br />
00 00 00 7B - Victory
<br />
00 00 00 7C - Celebrate
<br />
00 00 00 7D - Wave
<br />
00 00 00 7E - Two Handed Wave
<br />
00 00 00 7F - Long Distance Wave
<br />
00 00 00 80 - What?
<br />

<br />
Subcommand f: Client Sent.
<br />

<br />
Subcommand 13: Client Sent.
<br />

<br />
Subcommand 14: Server Sent. TextID is broken into two decimal parts:
<br />
stringID / 1000: intloc fileID
<br />
stringID % 1000: text index
<br />

<br />
So, say you want the 123rd text entry of intloc06, the stringID would be 6123
<br />

<br />
Subcommand 15: Client Sent.
<br />

<br />
Subcommand 17: Server Sent. Shows codex of wisdom’s text #msg.  (msg is linearised (including sub indices) index number starting with 1).
<br />

<br />
Subcommand 18: Server Sent. Number of maps: currently 3 (0 = Fellucca, 1 = Trammel, and 2 = Ilshenar). This packet is sent by the server to the client, telling the client to use the mapdif* and stadif* files for patching map and statics.
<br />

<br />
Subcommand 19: Server Sent. Is sent after the 0x11 packet to enable the stat locks and show their states on 4.x+ clients.
<br />

<br />
Subcommand 1a: Client Sent. Stat Lock change packet. Sent when client changes the lock state for a stat on the status bar.
<br />

<br />
Subcommand 1b: Server Sent. Related to new spell packet 0xBF Subcommand 0x1C.
<br />

<br />
Subcommand 1c: Client Sent. Related to new spellbook packet 0xBF Subcommand 0x1b.
<br />

<br />
Subcommand 1d: Server Sent. Part of AoS Custom Housing. Sends a house's Revision number for handling client's multi cache. If revision is newer than what client has it asks for the new multi packets to cache it.
<br />

<br />
Subcommand 1e: Client Sent. Part of AoS Custom Housing. Sends a house's ID number back after recieving the 0x1D subcommand
<br />

<br />
Subcommand 21: Server Sent. This is sent to reset the color of the icons, and also sent when the server denies the ability attempt (not enough skill or mana).
<br />

<br />
Subcommand 22: Server Sent. Packet for displaying damage dealt above the mob's head.
<br />

<br />
Subcommand 24:  Client Sent. Unknown.
<br />

<br />
Subcommand 0x25: Server Sent. Toggles SE Abilities.
<br />

<br />
Subcommand 0x26: Server Sent. Toggles Running at mount speed, even when not mounted.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC0">0xC0</a><br>
<b>Packet Name:</b> Graphical Effect<br>
<b>Packet Size:</b> 36 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd<br />BYTE[1] type<br />BYTE[4] sourceSerial <br />BYTE[4] targetSerial <br />BYTE[2] itemID <br />BYTE[2] xSource <br />BYTE[2] ySource <br />BYTE[1] zSource <br />BYTE[2] xTarget <br />BYTE[2] yTarget <br />BYTE[1] zTarget <br />BYTE[1] speed <br />BYTE[1] duration <br />BYTE[2] unk // On OSI, flamestrikes are 0x0100 <br />BYTE[1] fixedDirection <br />BYTE[1] explodes <br />BYTE[4] hue <br />BYTE[4] renderMode<br></p>
<p><b><u>Notes</b></u><br>Packet seems to work fine with even 2.0.0 clients</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC1">0xC1</a><br>
<b>Packet Name:</b> Cliloc Message<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] id (0xffff for system message)
<br />
BYTE[2] body (0xff for system message)
<br />
BYTE[1] type (6 – lower left, 7 on player)
<br />
BYTE[2] hue
<br />
BYTE[2] font
<br />
BYTE[4] Message number
<br />
BYTE[30] – speaker’s name
<br />
BYTE[?*2] – arguments // _little-endian_ unicode string, tabs ('\t') seperate the arguments. Null Terminated 0x0000<br></p>
<p><b><u>Notes</b></u><br>Argument example:
<br />
take number 1042762:
<br />
"Only ~1_AMOUNT~ gold could be deposited. A check for ~2_CHECK_AMOUNT~ gold was returned to you."
<br />
the arguments string may have "100 thousand\t25 hundred", which in turn would modify the string:
<br />
"Only 100 thousand gold could be deposited. A check for 25 hundred gold was returned to you."</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC2">0xC2</a><br>
<b>Packet Name:</b> Unicode TextEntry<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] player id
<br />
BYTE[4] message id
<br />
If (server_version of this packet)
<br />
· BYTE[10] all 0’s .. have to be there, otherwise client crash
<br />
If (client_version)
<br />
· BYTE[4] unknown, always 1
<br />
· BYTE[3] language code, i.e. DEA, ENU etc.
<br />
· BYTE[ ?] unicode Text<br></p>
<p><b><u>Notes</b></u><br>Client version is the reply packet. Server starts with a server side 0xc2. server can pick any message id to identify it. The next text entry from client after 0xc2 server side is client reply with a 0xc2 sent back.  First 11 bytes relayed from server packet, plus 0 0 0 1 plus 3 bytes language code + Unicode text. Server side packet always has length 0x15.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC4">0xC4</a><br>
<b>Packet Name:</b> Semivisible (Smurf it!)<br>
<b>Packet Size:</b> 6 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[4] ID
<br />
BYTE[1] intensity ?<br></p>
<p><b><u>Notes</b></u><br>It sets target more or less blue (dependant on intensity value). Only for 2d clients, for 3d clients it does nothing in last attempts (pre-4.x client test)</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC6">0xC6</a><br>
<b>Packet Name:</b> Invalid Map Enable<br>
<b>Packet Size:</b> 0x1<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] CMD<br></p>
<p><b><u>Notes</b></u><br>Sent to client to let it know it tried to enable/use an invalid map. Exact purpose unknown to myself.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC7">0xC7</a><br>
<b>Packet Name:</b> 3D Particle Effect<br>
<b>Packet Size:</b> 49 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[35]…. Preamble … exactly like 0xC0
<br />
BYTE[2] effect # (tile ID)
<br />
BYTE[2] explode effect # (0 if no explosion)
<br />
BYTE[2] additional effect # that’s only used for moving effects, 0 otherwise
<br />
BYTE[4]  if target is item (type 2) that’s itemId, 0 otherwise
<br />
BYTE[1]  layer (of the character, e.g left hand, right hand, … 0-4, 0xff: moving effect or target is no char)
<br />
BYTE[2] yet another (unknown) additional effect that’s only set for moving effect, 0 otherwise<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC8">0xC8</a><br>
<b>Packet Name:</b> Client View Range<br>
<b>Packet Size:</b> 2 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] range<br></p>
<p><b><u>Notes</b></u><br>Range: how far away client wants to see (=get send) items/npcs
<br />
Since client 3.0.8o it actually got activated.(in a useful way) When increase/decrease macro send, client sends a 0xc8. If and only if erver “relays” the packet (sending back the same data) range stuff gets activated client side.
<br />
”Greying“ has no packet, purely client internal.
<br />

<br />
Minimal value:5, maximal: 18
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xC9">0xC9</a><br>
<b>Packet Name:</b> Get Area Server Ping<br>
<b>Packet Size:</b> 6 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] sequence // initially 1, wraps after 255 to 0
<br />
BYTE[4] tickcount<br></p>
<p><b><u>Notes</b></u><br>Client sends packet with it's tick count. Server replies with same packetID/sequence and it's own tick count. Over a few packets, the client can deduct a reasonably accurate ping number. Currently only used/ implemented in god client
<br />

<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xCA">0xCA</a><br>
<b>Packet Name:</b> Get User Server Ping<br>
<b>Packet Size:</b> 6 Bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1]  sequence // initially 1, wraps after 255 to 0
<br />
BYTE[4] tickcount<br></p>
<p><b><u>Notes</b></u><br>See 0xC9</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xCB">0xCB</a><br>
<b>Packet Name:</b> Global Que Count<br>
<b>Packet Size:</b> 7 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] unknown
<br />
BYTE[4] count<br></p>
<p><b><u>Notes</b></u><br>displays the message:  There are currently [count] available calls in the global queue</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xCC">0xCC</a><br>
<b>Packet Name:</b> Cliloc Message Affix<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] id  (0xffff for system message)
<br />
BYTE[2] body (0xff for system message)
<br />
BYTE[1] type (6 – lower left, 7 on player)
<br />
BYTE[2] hue
<br />
BYTE[2] font
<br />
BYTE[4] Message number
<br />
BYTE[1] flags (0x02 is unknown, 0x04 signals the message doesn't move on screen) (flags & 0x1) == 0 signals affix is appended to the localization string, (flags & 0x1) == 1 signals to prepend.
<br />
BYTE[30] – speaker’s name
<br />
BYTE[?]  affix / null terminated
<br />
BYTE[?]*2] arguments; // _big-endian_ unicode string, tabs ('\t') seperate arguments, see 0xC1 for argument example<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD0">0xD0</a><br>
<b>Packet Name:</b> Configuration File<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[1] type - file type, not sure of precise values
<br />
BYTE[length-4] unknown encoded in some form<br></p>
<p><b><u>Notes</b></u><br>Sent if (flag & 0x02) in packet 0xA9
<br />
Probably used for saving client configuration files server side. OSI used it for the IGR shard only that is not anymore. Not sure what configuration files are, perhaps those in /desktop/player dir
<br />

<br />
Encoding/(compression?) completely unknown
<br />
Note: there’s a client and server version of it.
<br />
If on, client sends them 5 times (5 files)  at login.
<br />
After logout (0xd1) it expects server versions of 0xd0 and finally a server version of 0xd1
<br />

<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD1">0xD1</a><br>
<b>Packet Name:</b> Logout Status<br>
<b>Packet Size:</b> 2 bytes<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] unknown // always 1<br></p>
<p><b><u>Notes</b></u><br>Client sends on logout if (flag & 0x02) in packet 0xA9,
<br />
when server responds with same packet, client finishes logging out</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD2">0xD2</a><br>
<b>Packet Name:</b> Extended 0x20<br>
<b>Packet Size:</b> 25 Bytes<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
Preamble: Exactly like 0x20
<br />
BYTE[2] unknown 1
<br />
BYTE[2] unknown 2
<br />
BYTE[2] unknown 3<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD3">0xD3</a><br>
<b>Packet Name:</b> Extended 0x78<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
Preamble: Exactly like 0x78
<br />
BYTE[2] unknown 1
<br />
BYTE[2] unknown 2
<br />
BYTE[2] unknown 3
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD4">0xD4</a><br>
<b>Packet Name:</b> *New* Book Header<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[4] book ID
<br />
BYTE[1] flag1
<br />
BYTE[1] flag2
<br />
BYTE[2] number of pages
<br />
BYTE[2] length of author string (0 terminator included)
<br />
BYTE[?] author (ASCII, 0 terminated)
<br />
BYTE[2] length of title string (0 terminator included)
<br />
BYTE[?] title string
<br />
<br></p>
<p><b><u>Notes</b></u><br>Packet sent from server when opening a book: opening book writeable: flag1+flag2 both 1 (opening readonly book: flag1+flag2 0, unverified though)
<br />

<br />
client side: flag1+flag2 both 0, number of pages 0.
<br />

<br />
Example::
<br />
Opening books goes like this:
<br />
open book ->
<br />
server sends 0xd4(title + author)
<br />
server sends 0x66 with all book data “beyond” title + author
<br />

<br />
if title + author changed: client side 0xd4 send
<br />

<br />
if other book pages changed: 0x66 client side send.
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD6">0xD6</a><br>
<b>Packet Name:</b> Mega Cliloc<br>
<b>Packet Size:</b> vaiable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[2] Length of packet
<br />
BYTE[2] 0001
<br />
BYTE[4] Serial of item/creature
<br />
BYTE[2] 0000
<br />
BYTE[4] Serial of item/creature in all tests. This could be the serial of the item the entry to appear over.
<br />

<br />
Loop of all the item/creature's properties to display in the order to display them. The name is always the first entry.
<br />
BYTE[4] Cliloc ID
<br />
BYTE[2] Length of (if any) Text to add into/with the cliloc
<br />
BYTE[?] Unicode text to be added into the cliloc. Not sent if Length of text above is 0
<br />

<br />
BYTE[4] 00000000 - Sent as end of packet/loop<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD7">0xD7</a><br>
<b>Packet Name:</b> Generic AOS Commands<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Both<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] size
<br />
BYTE[4] PlayerID
<br />
BYTE[2] SubCommand message<br></p>
<p><b><u>Sub Commands</b></u><br>
SubCommand 0x02: Backup
<br />
BYTE[1] 07
<br />

<br />
SubCommand 0x03: Restore
<br />
BYTE[1] 07
<br />

<br />
SubCommand 0x04: Commit
<br />
BYTE[1] 07
<br />

<br />
SubCommand 0x05: DeleteItem
<br />
BYTE[1] unknown (0)
<br />
BYTE[2] unknown (0)
<br />
BYTE[2] item graphic
<br />
BYTE[1] unknown (0)
<br />
BYTE[4] X Pos
<br />
BYTE[1] unknown (0)
<br />
BYTE[4] Y Pos
<br />
BYTE[1] unknown (0)
<br />
BYTE[4] z Pos (7)
<br />
BYTE[1] terminator (0x07)
<br />

<br />
SubCommand 0x06: AddItem
<br />
BYTE[1] unknown (0)
<br />
BYTE[2] unknown (0)
<br />
BYTE[2] itemGraphic
<br />
BYTE[1] unknown (0)
<br />
BYTE[4] XPos
<br />
BYTE[1] unknown (0)
<br />
BYTE[4] YPos
<br />
BYTE[1] terminator (0x07)
<br />

<br />
SubCommand 0x0C: Exit House Tool
<br />
BYTE[1] unknwon (0x07)
<br />

<br />
SubCommand 0x0D: Change Stairs
<br />
BYTE[1] unknown (0x00)
<br />
BYTE[2] X Position (Relative to center of house)
<br />
BYTE[1] unknown (0x00)
<br />
BYTE[2] Y Position (Relative to center of house)
<br />
BYTE[1] unknown (0x00)
<br />

<br />
SubCommand 0x0E: Synch Button
<br />
BYTE[1] Unknown (0x07)
<br />

<br />
SubCommand 0x10: Clear Button
<br />
BYTE[1] Unknown (0x07)
<br />

<br />
SubCommand 0x12: ChangeFloor
<br />
BYTE[4] unknown (0)
<br />
BYTE[1] Floor#
<br />
BYTE[1] terminator (0x07)
<br />

<br />
SubCommand 0x1A: Revert Button
<br />
BYTE[1] Unknown (0x07)
<br />

<br />
SubCommand 0x19: Combat Book Abilities
<br />
BYTE[4] 00 00 00 00  = Unknown. Always like this in all my testing
<br />
BYTE[1] The ability "number" used
<br />
BYTE[1] 0A
<br />

<br />
SubCommand 0x28: Guild Button
<br />
BYTE[1] Unknown (0x07)
<br />

<br />
SubCommand 0x32: Quest Button
<br />
BYTE[1] Unknown (0x07)<br>
</p><p><b><u>Notes</b></u><br>Submitted information. untested and unverified.
<br />

<br />
Subcommand 0x02: This is sent when the client pushed the Backup button in the customization screen. Unsure what it triggers on the server since house building is totally handled client side until submitted.
<br />

<br />
SubCommand 0x03: Sent when client pushes the Restore button in the customization menu. Will need testing to see exact purpose of 2 and 3 subs. Possible the server could request current "layout" that is not yet commited to save the design without commiting to be later restored with this command.
<br />

<br />
SubCommand 0x04: Sent when client pushes the Commit Button.
<br />

<br />
SubCommand 0x05: Sent when client chooses to destroy items.
<br />

<br />
SubCommand 0x06: Sent when client Chooses to add items.
<br />

<br />
SubCommand 0x0C: Sent when client pushes the Exit Button.
<br />

<br />
SubCommand 0x0D: Sent when client adds stairs to the multi in edit mode.
<br />

<br />
SubCommand 0x0E: Sent when client pushes the Synch Button.
<br />

<br />
SubCommand 0x10: Sent when client pushes the Clear Button.
<br />

<br />
SubCommand 0x12: Sent when client pushes the Change Floor Buttons.
<br />

<br />
SubCommand 0x1A: Sent when client pushes the Revert Button.
<br />

<br />
SubCommand 0x19: Sent when client pushes the icones from the combat book.
<br />
The server uses an 0xBF Subcommand 0x21 Packet to cancel the red color of
<br />
icons, and reset the status of them on client.
<br />
Valid Ability Numbers:
<br />
0x00 = Cancel Ability Attempt
<br />
0x01 = Armor Ignore
<br />
0x02 = Bleed Attack
<br />
0x03 = Concusion Blow
<br />
0x04 = Crushing Blow
<br />
0x05 = Disarm
<br />
0x06 = Dismount
<br />
0x07 = Double Strike
<br />
0x08 = Infecting
<br />
0x09 = Mortal Strike
<br />
0x0A = Moving Shot
<br />
0x0B = Paralyzing Blow
<br />
0x0C = Shadow Strike
<br />
0x0D = Whirlwind Attack
<br />
0x0E = Riding Swipe
<br />
0x0F = Frenzied Whirlwind
<br />
0x10 = Block
<br />
0x11 = Defense Mastery
<br />
0x12 = Nerve Strike
<br />
0x13 = Talon Strike
<br />
0x14 = Feint
<br />
0x15 = Dual Wield
<br />
0x16 = Double shot
<br />
0x17 = Armor Peirce
<br />
0x18 = Bladeweave
<br />
0x19 = Force Arrow
<br />
0x1A = Lightning Arrow
<br />
0x1B = Psychic Attack
<br />
0x1C = Serpent Arrow
<br />
0x1D = Force of Nature
<br />

<br />
SubCommand 0x28: Sent when client pushes the Guild Button on the paperdoll.
<br />

<br />
SubCommand 0x32: Sent when client pushes the Quest Button on the paperdoll.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD8">0xD8</a><br>
<b>Packet Name:</b> Send Custom House<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length
<br />
BYTE[1] CompressionType (0=nothing, 3=zlib)
<br />
BYTE[1] unknown (0)
<br />
BYTE[4] HouseSerial
<br />
BYTE[4] Revision State
<br />
BYTE[2] Number of Tiles
<br />
BYTE[2] Buffer length (Number of tiles * 5)
<br />
For Each Component
<br />
· BYTE[2] component graphic
<br />
· BYTE[1] X
<br />
· BYTE[1] Y
<br />
· BYTE[1] Z
<br />

<br />
X/Y of this packet is probably wrong. May be 2 Byte portions instead of 1. Information was submitted and as of yet untested.
<br />
<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xD9">0xD9</a><br>
<b>Packet Name:</b> Spy On Client<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Client<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Description</b></u><br>Sends information related to client pc's hardware, operating system, direct x, etc. Full packet information is still unknown.</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[1] unknown (02) Always 0x02 in my tests
<br />
BYTE[4] Unique Instance ID of UO
<br />
BYTE[4] OS Major
<br />
BYTE[4] OS Minor
<br />
BYTE[4] OS Revision
<br />
BYTE[1] CPU Manufacturer
<br />
BYTE[4] CPU Family
<br />
BYTE[4] CPU Model
<br />
BYTE[4] CPU Clock Speed
<br />
BYTE[1] CPU Quantity
<br />
BYTE[4] Memory
<br />
BYTE[4] Screen Width
<br />
BYTE[4] Screen Height
<br />
BYTE[4] Screen Depth
<br />
BYTE[2] Direct X Version
<br />
BYTE[2] Direct X Minor
<br />
BYTE[76?] Video Card Description
<br />
BYTE[4] Video Card Vendor ID
<br />
BYTE[4] Video Card Device ID
<br />
BYTE[4] Video Card Memory
<br />
BYTE[1] Distribution
<br />
BYTE[1] Clients Running
<br />
BYTE[1] Clients Installed
<br />
BYTE[1] Partial Insstalled
<br />
BYTE[1] Unknown
<br />
BYTE[4] Language Code
<br />
BYTE[67] Unknown Ending<br></p>
<p><b><u>Notes</b></u><br>Older clients, from mid-late 2003 was set at 149 bytes length, whereas newest clients 4.01+ are set to 199 ??</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xDB">0xDB</a><br>
<b>Packet Name:</b> Character Transfer Log<br>
<b>Packet Size:</b> variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] cmd
<br />
BYTE[2] length of packet
<br />
BYTE[4] Unknown, always 000000BB in my testing.
<br />
BYTE[?] Length - 7 of packet
<br />
BYTE[4] Transfer ID
<br />
BYTE[4] Unknown, all zeros
<br />
BYTE[4] Unknown, all zeros
<br />
For each item in transfer log, this loop is performed:
<br />
  BYTE[4] Item's Serial
<br />
  BYTE[4] Size of next loop (Big Endian)
<br />
    BYTE[4] The cliloc of the item's name or property. If zero, defaults to 'Transfer Crate.'
<br />
    BYTE[1] Length of Cliloc Addon Text
<br />
      BYTE[?] Text to affix/insert into the cliloc
<br />
      BYTE[2] 0009 - Ends the loop for cliloc addon text and item<br></p>
<p><b><u>Notes</b></u><br>When a character transfer is confirmed, the server sends this to create a log of all the items being included in the transfer.
<br />
This log is saved to translog.txt.
<br />
Item properties are also included in this packet.
<br />
</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xDC">0xDC</a><br>
<b>Packet Name:</b> SE Introduced Revision<br>
<b>Packet Size:</b> 9<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] CMD
<br />
BYTE[4] Item/Mob Serial
<br />
BYTE[4] Item Revision Hash<br></p>
<p><b><u>Notes</b></u><br>Newer packet as of late 2004. Is now used on OSI to handle the Revision of Tooltips instead of the original 0xBF methods it appears.</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xDD">0xDD</a><br>
<b>Packet Name:</b> Compressed Gump<br>
<b>Packet Size:</b> variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd<br />BYTE[2] len<br />BYTE[4] Player Serial<br />BYTE[4] Gump ID<br />BYTE[4] x<br />BYTE[4] y<br />BYTE[4] Compressed Gump Layout Length (CLen)<br />BYTE[4] Decompressed Gump Layout Length (DLen)<br />BYTE[CLen] Gump Data, zlib compressed<br />BYTE[4] Number of text lines<br />BYTE[4] Compressed Text Line Length (CTxtLen)<br />BYTE[4] Decompressed Text Line Length (DTxtLen)<br />BYTE[CTxtLen] Gump's Compressed Text data, zlib compressed<br></p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xDF">0xDF</a><br>
<b>Packet Name:</b> Buff/Debuff System<br>
<b>Packet Size:</b> variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> Turley</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[1] Cmd
<br />
BYTE[2] Length
<br />
BYTE[4] Serial of player
<br />
BYTE[2] Icon Number to show
<br />
BYTE[2] 0x1 = Show, 0x0 = Remove. On remove byte, packet ends here.
<br />
BYTE[2] Icon Number to show.
<br />
BYTE[2] 0x1 = Show
<br />
BYTE[2] Time in seconds before icon auto-removes itself
<br />
BYTE[4] 0x00000000
<br />
BYTE[2] Time in seconds (simple countdown without automatic remove)
<br />
BYTE[4] 0x00000000
<br />
BYTE[4] Cliloc ID of title of icon.
<br />
BYTE[4] Cliloc ID 1049644. Used for the Description of the icon. If no arguments for cliloc, packet ends here.
<br />
BYTE[6] 000000000000 Always this in current testing.
<br />
BYTE[2] Length of Description text for Cliloc Description
<br />
BYTE[len(str)*2] Unicode String ("\t"+str) (To seperate the entrys add "\t")
<br />
<br></p>
<p><b><u>Notes</b></u><br>This is a submitted packet, information here is yet to be verified. Use at own risk.
<br />

<br />
List of current Icon Names:
<br />

<br />
1001: Dismount
<br />
1002: Disarm
<br />
1005: Nightsight
<br />
1006: Death Strike
<br />
1007: Evil Omen
<br />
1008: ? GumpID 0x7556
<br />
1009: ? GumpID 0x753A
<br />
1010: Divine Fury
<br />
1011: Enemy Of One
<br />
1012: Stealth
<br />
1013: Active Meditation
<br />
1014: Blood Oath caster
<br />
1015: Blood Oath curse
<br />
1016: Corpse Skin
<br />
1017: Mindrot
<br />
1018: Pain Spike
<br />
1019: Strangle
<br />
1020: Gift of Renewal
<br />
1021: Attune Weapon
<br />
1022: Thunderstorm
<br />
1023: Essence of Wind
<br />
1024: Ethereal Voyage
<br />
1025: Gift Of Life
<br />
1026: Arcane Empowerment
<br />
1027: Mortal Strike
<br />
1028: Reactive Armor
<br />
1029: Protection
<br />
1030: Arch Protection
<br />
1031: Magic Reflection
<br />
1032: Incognito
<br />
1033: Disguised
<br />
1034: Animal Form
<br />
1035: Polymorph
<br />
1036: Invisibility
<br />
1037: Paralyze
<br />
1038: Poison
<br />
1039: Bleed
<br />
1040: Clumsy
<br />
1041: Feeble Mind
<br />
1042: Weaken
<br />
1043: Curse
<br />
1044: Mass Curse
<br />
1045: Agility
<br />
1046: Cunning
<br />
1047: Strength
<br />
1048: Bless</p>
<br><br>
</td></tr>
<tr><td align="left"><p><b>Packet ID:</b> <a name="0xF0">0xF0</a><br>
<b>Packet Name:</b> Krrios client special<br>
<b>Packet Size:</b> Variable<br>
<b>Sent By:</b> Server<br>
<b>Submitted:</b> MuadDib</p>
<p><b><u>Packet Breakdown</b></u><br>
BYTE[2] len
<br />
BYTE[1] subcmd
<br />
BYTE[len - 4] data
<br />

<br />

<br />

<br />
<br></p>
<p><b><u>Notes</b></u><br>Subcommand 0: Acknowledge login (1 byte (for 5 total))
<br />
BYTE[1] ack  (0 = Rejected, unauthorized.  1 = Accepted, GM priviledges. 2 = Accepted, player priviledges)
<br />

<br />
Note: GM priviledges unlock movement rate configurations
<br />
</p>
<br><br>
</td></tr>
</table></center></td></tr></table></td></tr></table>
<br></p>
</body>
</html>
